<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>python | Moyuduo's Blog</title><meta name=keywords content><meta name=description content="安装 在https://www.python.org/downloads/source/上找到合适的安装包 在linux上curl -O https://www.python.org/ftp/python/3.7.14/Python-3.7.14.tgz 解压tar -zxvf python/3.7.14/Python-3.7.14.tgz 修改解压目录下的Modules/Setup按需自定义 在解压目录下的bin目录下执行./configure 执行make 执行make install 输入py按tab看是否有提示验证是否安装成功 申明 在编写的python脚本文件中，可以在第一行申明#!/usr/bin/python标识默认改脚本的执行程序(路径未pythen可执行文件的具体路径)，如果使用./xxx.py时就会使用该程序执行脚本，如果未申明默认会当做shell脚本进行执行
#!/usr/bin/python print(&#34;ok&#34;) 中文编码 如果在执行程序时遇到中文乱码问题，可以在脚本文件中申明# -*- coding: UTF-8 -*-或# coding=utf-8
#!/usr/bin/python # coding=utf-8 print(&#34;你好！&#34;) 变量 #赋值 x, y = 1, 2 #交换 x, y = y, x 条件语句 num = 3 if num > 2: pass else: pass if num > 2: pass elif num < 0: pass else: pass 条件成立时执行的语句 if cond else 条件不成立时执行的语句 num=3 print(&#34;num>5&#34;) if num>5 else print(&#34;num<=5&#34;) 循环 for item in iterable: pass for item in iterable: pass else: pass #range函数可以用于生成一个数字可迭代对象 range(stop) #默认start为0,生成的数组序列不包含stop range(start, stop) range(start, stop, step) num = 3 while num > 0: pass #使用break跳出循环并不会执行else里面的代码 num = 3 while num > 0: pass else: pass 逻辑运算符 and:操作符左右为Ture才是True，相当于&& or:操作符左右任意一边为True就为True，相当于|| not:取反，相当于 !"><meta name=author content="Me"><link rel=canonical href=https://moyuduo.github.io/posts/python/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://moyuduo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://moyuduo.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://moyuduo.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://moyuduo.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://moyuduo.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="python"><meta property="og:description" content="安装 在https://www.python.org/downloads/source/上找到合适的安装包 在linux上curl -O https://www.python.org/ftp/python/3.7.14/Python-3.7.14.tgz 解压tar -zxvf python/3.7.14/Python-3.7.14.tgz 修改解压目录下的Modules/Setup按需自定义 在解压目录下的bin目录下执行./configure 执行make 执行make install 输入py按tab看是否有提示验证是否安装成功 申明 在编写的python脚本文件中，可以在第一行申明#!/usr/bin/python标识默认改脚本的执行程序(路径未pythen可执行文件的具体路径)，如果使用./xxx.py时就会使用该程序执行脚本，如果未申明默认会当做shell脚本进行执行
#!/usr/bin/python print(&#34;ok&#34;) 中文编码 如果在执行程序时遇到中文乱码问题，可以在脚本文件中申明# -*- coding: UTF-8 -*-或# coding=utf-8
#!/usr/bin/python # coding=utf-8 print(&#34;你好！&#34;) 变量 #赋值 x, y = 1, 2 #交换 x, y = y, x 条件语句 num = 3 if num > 2: pass else: pass if num > 2: pass elif num < 0: pass else: pass 条件成立时执行的语句 if cond else 条件不成立时执行的语句 num=3 print(&#34;num>5&#34;) if num>5 else print(&#34;num<=5&#34;) 循环 for item in iterable: pass for item in iterable: pass else: pass #range函数可以用于生成一个数字可迭代对象 range(stop) #默认start为0,生成的数组序列不包含stop range(start, stop) range(start, stop, step) num = 3 while num > 0: pass #使用break跳出循环并不会执行else里面的代码 num = 3 while num > 0: pass else: pass 逻辑运算符 and:操作符左右为Ture才是True，相当于&& or:操作符左右任意一边为True就为True，相当于|| not:取反，相当于 !"><meta property="og:type" content="article"><meta property="og:url" content="https://moyuduo.github.io/posts/python/"><meta property="og:image" content="https://moyuduo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-27T16:16:14+08:00"><meta property="article:modified_time" content="2022-11-27T16:16:14+08:00"><meta property="og:site_name" content="Moyuduo's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://moyuduo.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="python"><meta name=twitter:description content="安装 在https://www.python.org/downloads/source/上找到合适的安装包 在linux上curl -O https://www.python.org/ftp/python/3.7.14/Python-3.7.14.tgz 解压tar -zxvf python/3.7.14/Python-3.7.14.tgz 修改解压目录下的Modules/Setup按需自定义 在解压目录下的bin目录下执行./configure 执行make 执行make install 输入py按tab看是否有提示验证是否安装成功 申明 在编写的python脚本文件中，可以在第一行申明#!/usr/bin/python标识默认改脚本的执行程序(路径未pythen可执行文件的具体路径)，如果使用./xxx.py时就会使用该程序执行脚本，如果未申明默认会当做shell脚本进行执行
#!/usr/bin/python print(&#34;ok&#34;) 中文编码 如果在执行程序时遇到中文乱码问题，可以在脚本文件中申明# -*- coding: UTF-8 -*-或# coding=utf-8
#!/usr/bin/python # coding=utf-8 print(&#34;你好！&#34;) 变量 #赋值 x, y = 1, 2 #交换 x, y = y, x 条件语句 num = 3 if num > 2: pass else: pass if num > 2: pass elif num < 0: pass else: pass 条件成立时执行的语句 if cond else 条件不成立时执行的语句 num=3 print(&#34;num>5&#34;) if num>5 else print(&#34;num<=5&#34;) 循环 for item in iterable: pass for item in iterable: pass else: pass #range函数可以用于生成一个数字可迭代对象 range(stop) #默认start为0,生成的数组序列不包含stop range(start, stop) range(start, stop, step) num = 3 while num > 0: pass #使用break跳出循环并不会执行else里面的代码 num = 3 while num > 0: pass else: pass 逻辑运算符 and:操作符左右为Ture才是True，相当于&& or:操作符左右任意一边为True就为True，相当于|| not:取反，相当于 !"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://moyuduo.github.io/posts/"},{"@type":"ListItem","position":2,"name":"python","item":"https://moyuduo.github.io/posts/python/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"python","name":"python","description":"安装 在https://www.python.org/downloads/source/上找到合适的安装包 在linux上curl -O https://www.python.org/ftp/python/3.7.14/Python-3.7.14.tgz 解压tar -zxvf python/3.7.14/Python-3.7.14.tgz 修改解压目录下的Modules/Setup按需自定义 在解压目录下的bin目录下执行./configure 执行make 执行make install 输入py按tab看是否有提示验证是否安装成功 申明 在编写的python脚本文件中，可以在第一行申明#!/usr/bin/python标识默认改脚本的执行程序(路径未pythen可执行文件的具体路径)，如果使用./xxx.py时就会使用该程序执行脚本，如果未申明默认会当做shell脚本进行执行\n#!/usr/bin/python print(\u0026#34;ok\u0026#34;) 中文编码 如果在执行程序时遇到中文乱码问题，可以在脚本文件中申明# -*- coding: UTF-8 -*-或# coding=utf-8\n#!/usr/bin/python # coding=utf-8 print(\u0026#34;你好！\u0026#34;) 变量 #赋值 x, y = 1, 2 #交换 x, y = y, x 条件语句 num = 3 if num \u0026gt; 2: pass else: pass if num \u0026gt; 2: pass elif num \u0026lt; 0: pass else: pass 条件成立时执行的语句 if cond else 条件不成立时执行的语句 num=3 print(\u0026#34;num\u0026gt;5\u0026#34;) if num\u0026gt;5 else print(\u0026#34;num\u0026lt;=5\u0026#34;) 循环 for item in iterable: pass for item in iterable: pass else: pass #range函数可以用于生成一个数字可迭代对象 range(stop) #默认start为0,生成的数组序列不包含stop range(start, stop) range(start, stop, step) num = 3 while num \u0026gt; 0: pass #使用break跳出循环并不会执行else里面的代码 num = 3 while num \u0026gt; 0: pass else: pass 逻辑运算符 and:操作符左右为Ture才是True，相当于\u0026amp;\u0026amp; or:操作符左右任意一边为True就为True，相当于|| not:取反，相当于 !","keywords":[],"articleBody":"安装 在https://www.python.org/downloads/source/上找到合适的安装包 在linux上curl -O https://www.python.org/ftp/python/3.7.14/Python-3.7.14.tgz 解压tar -zxvf python/3.7.14/Python-3.7.14.tgz 修改解压目录下的Modules/Setup按需自定义 在解压目录下的bin目录下执行./configure 执行make 执行make install 输入py按tab看是否有提示验证是否安装成功 申明 在编写的python脚本文件中，可以在第一行申明#!/usr/bin/python标识默认改脚本的执行程序(路径未pythen可执行文件的具体路径)，如果使用./xxx.py时就会使用该程序执行脚本，如果未申明默认会当做shell脚本进行执行\n#!/usr/bin/python print(\"ok\") 中文编码 如果在执行程序时遇到中文乱码问题，可以在脚本文件中申明# -*- coding: UTF-8 -*-或# coding=utf-8\n#!/usr/bin/python # coding=utf-8 print(\"你好！\") 变量 #赋值 x, y = 1, 2 #交换 x, y = y, x 条件语句 num = 3 if num \u003e 2: pass else: pass if num \u003e 2: pass elif num \u003c 0: pass else: pass 条件成立时执行的语句 if cond else 条件不成立时执行的语句 num=3 print(\"num\u003e5\") if num\u003e5 else print(\"num\u003c=5\") 循环 for item in iterable: pass for item in iterable: pass else: pass #range函数可以用于生成一个数字可迭代对象 range(stop) #默认start为0,生成的数组序列不包含stop range(start, stop) range(start, stop, step) num = 3 while num \u003e 0: pass #使用break跳出循环并不会执行else里面的代码 num = 3 while num \u003e 0: pass else: pass 逻辑运算符 and:操作符左右为Ture才是True，相当于\u0026\u0026 or:操作符左右任意一边为True就为True，相当于|| not:取反，相当于 ! 运算符优先级：not \u003e and \u003e or\nand/or遵循逻辑短路运算，即当第一个操作数的逻辑无法确定值时才运算第二个\n3 and 4 4 3 or 4 3 (not 1) or (0 and 1) or (3 and 4) or (5 and 6) or (7 and 8 and 9) =\u003e False or 0 or 4 or 6 or 9 =\u003e 4 not 1 or 0 and 1 or 3 and 4 or 5 and 6 or 7 and 8 and 9 =\u003e False or 0 and 1 or 3 and 4 or 5 and 6 or 7 and 8 and 9 =\u003e False or 0 or 4 or 6 or 9 =\u003e 4 数据类型 内置函数type(var)可以返回var的数据类型\n数值类型 数值类型是不可变的数据类型，也就是说如果对数值类型进行改变将会产生一个新的对象\npython支持四种不同的数值类型：\nint(有符号整型) long(长整型，使用l或L标识,在3.x版本中已被废弃) float(浮点数) complex(复数，使用a+bj标识或者complex(a,b)) 布尔类型 定义为False的对象：None和False 转换为False的对象：0，0.0，oj，Decimal(0)，Fraction(0,1),\"\",(),[],{},set(),range(0) 字符串 #字符串内包含单引号 str1 = \"let's go!\" #字符串内包含双引号 str2 = '\"life is short\"' #字符串内既包含单引号也包含双引号 str3 = \"let's go! \\\"life is short\\\"\" str4 = 'let\\'s go! \"life is short\"' #原始字符串 str1 = \"D:\\one\\two\\three\" print(str1) D:\\one wo hree # r表示后面的字符串是原始字符串，字符串中的反斜杠不转义 str2 = r\"D:\\one\\two\\three\" print(str2) D:\\one\\two\\three #多行文本 str1 = \"\"\"this is line1 this is line2 this is line3\"\"\" print(str1) this is line1 this is line2 this is line3 str2 = \"\"\"this is line1 let's go! \"life is short\" \"\"\" print(str2) this is line1 let's go! \"life is short\" python字符串索引方式：\n从左到右，下标从0开始递增 从右往左，小标从-1开始递减 python 012345 -6-5-4-3-2-1 s=\"python\" print(s) #python #字符串截取使用[idx1:idx2],其中idx2不包含在内 print(s[1:3]) #yt print(s[:3]) #pyt print(s[3:]) #hon print(s[:]) #python print(s[:-1]) #pytho print(s[-5:]) #ython print(s[-5:-1]) #ytho #指定截取步长 print(s[1:6:1]) #ython print(s[1:6:2]) #yhn #字符串运算 print(s*2) #pythonpython print(s+2) #报错can only concatenate str (not \"int\") to str #字符串拼接 print(s+\"ok\") #pythonok 自身函数:\nstr1 = \"I love python\" #首字母大写 print(str1.capitalize()) #单词首字母大写 print(str1.title()) #所有字母大小写转换 print(str1.swapcase()) #全部小写 print(str1.lower()) #全部大写 print(str1.upper()) #字符串居中，如果指定的width小于字符串长度，那么原字符串输出 print(str1.center(5)) #I love python print(str1.center(20)) # I love python #左对齐 print(str1.ljust(20)) #I love python 有空格 #右对齐 print(str1.rjust(20)) # I love python #空白部分0填充 print(str1.zfill(20)) #0000000I love python str1 = \"上海自来水来自海上\" #str.count(sub[, start[, end]]) str1.count(\"海\") #2 str1.count(\"海\", 5) #1 str1.count(\"海\", 0, 5) #1 #str.find(sub[, start[, end]]) str1.find(\"海\") #1 str1.find(\"海\", 5) #7 str1.find(\"海\", 5, 7) #-1 找不到 #str.rfind(sub[, start[, end]]) str1.rfind(\"海\") #7 str1.rfind(\"海\", 5) #7 str1.find(\"海\", 5, 7) #-1 #str.index(sub[, start[, end]]) 如果找不到就抛出异常 str1.index(\"海\") #1 str1.index(\"海\", 3, 6) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e ValueError: substring not found #str.expandtabs([tabsize]) tab替换空格 str2 = \"\\thello\" print(str2) # hello str3 = str2.expandtabs(2) print(str3) # hello #str.replace(old, new, count=-1) str2 = str1.replace(\"海\", \"hai\") print(str2) #上hai自来水来自hai上 str2 = str1.replace(\"海\", \"hai\", 1) print(str2) #上hai自来水来自海上 #str.plit(sep=None, maxsplit=-1)分割字符串 #sep参数自定分隔符，默认未None，如果未指定那么会按照\\n \\r \\t \\f 空格 进行分割 #maxsplit指定最大分割次数 str1=\"123:abc:ABC:True:False\" str1.split(\":\") #['123', 'abc', 'ABC', 'True', 'False'] str1.split(\":\", 2) #['123', 'abc', 'ABC:True:False'] #str.startswith(prefix[, start[, end]]) -\u003e bool 判断字符串是否以指定字符串开头 str1 = \"http://www/baidu.com\" str1.startswith(\"http\") #True str1.startswith(\"https\") #False str1.startswith(\"http\", 1) #False str1.startswith(\"http\", 0, 3) #Flase end不包括 str1.startswith((\"http\", \"ftp\")) #True #str.endswith(suffix[, start[, end]]) 判断字符串是否以指定字符结尾 str1.endswith(\".com\") #True #str.isupper() str1.isupper() #False #str.islower() str1.islower() #True #str.isalpha() 判断字符串是不是纯字母组成 str1.isalpha() #False 包含标点符号不是纯字符 #str.lstrip(chars=None) 去除字符串左侧的指定字符,按字符判断，凡是在chars里的字符都去掉 str1 = \" hello,python! \" print(str1.lstrip()) #hello,python! 右侧有空格 str1 = \"www.baidu.com\" print(str1.lstrip(\"www.\")) #baidu.com #str.rstrip(chars=None) 去除字符串右侧的指定字符 str1 = \" hello,python! \" print(str1.rstrip()) # hello,python! str1 = \"www.baidu.com\" print(str1.rstrip(\".com\")) #www.baidu #str.strip(chars=None) str1 = \" hello,python! \" print(str1.strip()) #hello,python! str1 = \"www.baidu.com\" print(str1.strip(\"www..com\")) #baidu #str.removeprefix() 去除字符串指定前缀字符串 str1 = \"www.baidu.com\" print(str1.removeprefix(\"www.\")) #baidu.com #str.removesuffix() 去除字符串指定后缀字符串 str1 = \"www.baidu.com\" print(str1.removesuffix(\".com\")) #www.baidu #str.partition(sep) 通过指定分隔符把字符串分割为三部分,从左往右找第一个分隔符进行分割 str1 = \"www.baidu.com\" print(str1.partition(\".\")) #('www', '.', 'baidu.com') print(str1.partition(\"/\")) #('www.baidu.com', '', '') 找不到分隔符的话元祖后两个字符为空 #str.rpartition(sep) str1 = \"www.baidu.com\" print(str1.rpartition(\".\")) #('www.baidu', '.', 'com') #str.split(sep=None, maxsplit=-1) 默认以空格分割 str1 = \"www.baidu.com\" print(str1.split(\".\")) #['www', 'baidu', 'com'] print(str1.split(\".\", 1)) #['www', 'baidu.com'] #str.rsplit(sep=None, maxsplit=-1) str1 = \"www.baidu.com\" print(str1.rsplit(\".\")) #['www', 'baidu', 'com'] print(str1.rsplit(\".\", 1)) #['www.baidu', 'com'] #str.splitlines(keepends=False) 按换行符分割字符串，可以处理不同操作系统下换行符不同的问题 #在linux换行符是\\n 在mac下换行符是\\r 在windows下换行符是\\r\\n str1 = \"line1\\nline2\\rline3\\r\\n\" print(str1.splitlines()) #['line1', 'line2', 'line3'] print(str1.splitlines(keepends=True)) #['line1\\n', 'line2\\r', 'line3\\r\\n'] #str.join(iterable) 使用指定分隔符连接列表返回字符串 cat_str = \",\" print(cat_str.join([\"a\", \"b\", \"c\"])) #a,b,c 格式化字符串 https://blog.csdn.net/ex_6450/article/details/125031543\n#1. str.format() str1 = \"hello, i am {}\" print(str1.format(\"tom\")) #hello, i am tom str1 = \"hello, i am {}, {} years old\" print(str1.format(\"tom\", 20)) #hello, i am tom, 20 years old str1 = \"hello, i am {0}, {1} years old\" print(str1.format(\"tom\", 20)) #hello, i am tom, 20 years old str1 = \"hello, i am {name}, {age} years old\" print(str1.format(name=\"tom\", age=20)) #hello, i am tom, 20 years old str1 = \"hello, i am {0}, {age} years old\" print(str1.format(\"tom\", age=20)) #hello, i am tom, 20 years old #在字符串里有原始的大括号用双大括号 或 用单大括号然后format的时候传入大括号 str1 = \"{{}}hello, i am {0}, {age} years old\" print(str1.format(\"tom\", age=20)) #{}hello, i am tom, 20 years old str1 = \"{0}hello, i am {1}, {age} years old\" print(str1.format(\"{}\", \"tom\", age=20)) #{}hello, i am tom, 20 years old #2. % str1 = \"hello, i am %s\" print(str1 % (\"tom\")) #hello, i am tom str1 = \"hello, i am %s, %d years old\" print(str1 % (\"tom\", 20)) #hello, i am tom, 20 years old str1 = \"{}hello, i am %s, %d years old\" print(str1 % (\"tom\", 20)) #{}hello, i am tom, 20 years old #3. f name = \"tom\" str1 = f\"hello, i am {name}\" print(str1) #hello, i am tom name = \"tom\" age = 20 str1 = f\"hello, i am {name}, {age} years old\" print(str1) #hello, i am tom, 20 years old name = \"tom\" age = 20 str1 = f\"{{}}hello, i am {name}, {age} years old\" print(str1) #{}hello, i am tom, 20 years old 列表 列表可以包含数值、字符串、布尔、列表等类型，甚至一个列表可以包含多种数据类型\n列表的索引和字符串一样\narr = [1,'a',True,[3.14]] #列表可以包含多种数据类型 print(arr) #[1, 'a', True, [3.14]] print(arr[1]) #'a' print(arr[1:]) #['a', True, [3.14]] print(arr[:-1]) #[1, 'a', True] print(arr[::2]) #[1, True] #计算 print(arr*2) #[1, 'a', True, [3.14], 1, 'a', True, [3.14]] print(arr[::2] + arr[1::2]) #[1, 'a', True, [3.14]] arr2 = [1,2,3] arr3 = [1] print(arr2-arr3) #报错unsupported operand type(s) for -: 'list' and 'list' #判断列表中是否存在某个元素 2 in arr2 #True 相关内置函数：\n#cmp(list1, list2)比较两个列表,3.x版本已经废弃 list1=[1,2,3] list2=[1,2,3] cmp(list1, list2) #len(list)获取列表的直接子元素个数 list1=[1,2,3] len(list1) #3 list2=[1,2,['a','b']] len(list2) #3 #max(list)获取列表大最大元素 list1=[1,2,3] max(list1) #3 list2=[1,'a','A',True,False] max(list2) #报错 TypeError: '\u003e' not supported between instances of 'str' and 'int' list3=[1,True,False] max(list3) #1 list4=[True,False,\"a\",\"A\"] max(list4) #报错 TypeError: '\u003e' not supported between instances of 'str' and 'bool' #min(list)获取列表的最小元素 list1=[1,2,3] min(list1) #1 list2=[1,'a','A',True,False] min(list2) #报错 TypeError: '\u003c' not supported between instances of 'str' and 'int' list3=[1,True,False] min(list3) #False list4=[True,False,\"a\",\"A\"] min(list4) #报错 TypeError: '\u003c' not supported between instances of 'str' and 'bool' #list(tuple)姜元组转化为列表 tup1=(1,2,3) list(tup1) #[1, 2, 3] 自带方法：\n#list.append(obj)在列表的末尾追加一个元素 list1=[1,2,3] list1.append('a') print(list1) #[1, 2, 3, 'a'] #list.count(obj)统计某个元素在列表中出现的次数 list2=[1,2,3] list2.count(1) #1 list2.count('a') #0 #list.extend(iterable)使用另一个可迭代列表扩展本列表 #等同于 list[len(list):] = list2 list3=[1,2,3] list4=['a','b'] list3.extend(list4) print(list3) #[1, 2, 3, 'a', 'b'] tup1=('A','B') list3.extend(tup1) print(list3) #[1, 2, 3, 'a', 'b', 'A', 'B'] dict1={'k1': 'v1', 'k2':'v2'} list3.extend(dict1) print(list3) #[1, 2, 3, 'a', 'b', 'A', 'B', 'k1', 'k2'] #list.index(obj, start, end)从列表这种找到第一个匹配元素的索引,包含start不包含end list1=[1,2,3,1,2,3] list1.index(1) #0 list2=[1,2,3,['a','b']] list2.index(['a','b']) #3 #list.insert(idx, obj)将元素插入到指定位置,该位置及其之后的元素一次往后移 list1=[1,2,3] list1.insert(1,'a') print(list1) #[1, 'a', 2, 3] #list.pop(idx=-1)移除列表中指定位置(默认最后一个)的元素并返回 list1=[1,2,3] list1.pop() #3 list2=[1,2,3] list2.pop(1) #2 list3=[] list3.pop() #报错 IndexError: pop from empty list #list.remove(obj)移除列表中元素的第一个匹配项 list1=[1,2,3] list1.remove(2) print(list1) [1, 3] list2=[1,2,3] list2.remove(5) #报错 ValueError: list.remove(x): x not in list #list.reverse()反转列表,并不会反转列表中的列表元素(非递归) list1=[1,2,3] list1.reverse() print(list1) #[3, 2, 1] list2=[1,2,3,['a','b']] list2.reverse() print(list2) #[['a', 'b'], 3, 2, 1] #list.sort(cmp=None,key=None,reverse=False)杜列表进行排序 #key参数指定使用元素的键进行比较 #reverse参数指定排序的升降序，False升序，True降序 list1=[2,1,4,3] list1.sort() print(list1) #[1, 2, 3, 4] list2=[ {\"name\": \"tom\", \"age\": 20}, {\"name\": \"jack\", \"age\": 18}, {\"name\": \"jarry\", \"age\": 25}, ] def sortFunc(p): return p[\"age\"] list2.sort(key=sortFunc) print(list2) #[{'name': 'jack', 'age': 18}, {'name': 'tom', 'age': 20}, {'name': 'jarry', 'age': 25}] #list.clear()清空列表 list1 = [1,2,3] print(list1) #[1, 2, 3] list1.clear() print(list1) #[] 变量的定义还在 #list.copy()浅拷贝一个列表 同 list2 = list1[:] 同 list2 = copy.copy(list1) list1=[1,2,3] list2=['a','b','c',list1] print(list2) # ['a', 'b', 'c', [1, 2, 3]] list3 = l2.copy() print(list3) # ['a', 'b', 'c', [1, 2, 3]] list4 = list2[:] import copy list5 = copy.copy(list2) list1[1]=20 print(list2) # ['a', 'b', 'c', [1, 20, 3]] print(list3) # ['a', 'b', 'c', [1, 20, 3]] #深拷贝 list1=[1,2,3] list2=['a','b','c',list1] print(list2) # ['a', 'b', 'c', [1, 2, 3]] import copy list3 = copy.deepcopy(list2) print(list3) # ['a', 'b', 'c', [1, 2, 3]] list1[1] = 20 print(list3) # ['a', 'b', 'c', [1, 2, 3]] 列表推导式\nlist1 = [1,2,3] list1 = [item*2 for item in list1] even = [num for num in range(10) if num%2 == 0] print(even) #[0, 2, 4, 6, 8] list1 = [[1,2,3], [4,5,6], [7,8,9]] flatten = [col for row in list1 for col in row] print(flatten) #[1, 2, 3, 4, 5, 6, 7, 8, 9] list1 = [[x,y] for x in range(10) if x%2 == 0 for y in range(10) if y%3 == 0] print(list1) #[[0, 0], [0, 3], [0, 6], [0, 9], [2, 0], [2, 3], [2, 6], [2, 9], [4, 0], [4, 3], [4, 6], [4, 9], [6, 0], [6, 3], [6, 6], [6, 9], [8, 0], [8, 3], [8, 6], [8, 9]] 元组 元组与列表类似，只是元组中的元素不能修改\nt1 = (1,2,3) t2 = () t3 = (1,) #创建只带有一个元素的元组需要在元素后面加逗号 t4 = 1,2,3 #如果元祖的元素是列表，那么可以对该列表的元素进行修改 t5 = ([1,2,3], ['a','b','c']) print(t5) #([1, 2, 3], ['a', 'b', 'c']) t5[0][0] = 10 t5[1][0] = 'A' print(t5) #([10, 2, 3], ['A', 'b', 'c']) #判断元组中是否存在某个元素 3 in t1 #True 元素的访问、截取、复制、连接的用法和列表相同\n内置函数：\n#tuple(list)把列表转化为元组 list1 = [1,2,3] tup1 = tuple(list1) print(tup1) #(1, 2, 3) 解包\nt1 = (1,2,3) print(t1) #(1, 2, 3) a,b,c = t1 print(a, b, c) #1 2 3 dict字典 字段使用kv形式保存键值对，如果有多个相同的键，那么后一个键的值会覆盖前一个\ndict1={\"k1\": 1, \"k2\": 2, \"k3\": 3} print(dict1) #{'k1': 1, 'k2': 2, 'k3': 3} dict1 = dict(k1=1, k2=2, k3=3) dict1 = dict({\"k1\": 1, \"k2\": 2, \"k3\": 3}) dict1 = dict([(\"k1\", 1), (\"k2\", 2), (\"k3\", 3)]) dict2={\"k1\": 1, \"k2\": 2, \"k3\": 3, \"k1\": -1} print(dict2) #{'k1': -1, 'k2': 2, 'k3': 3} dict3={\"k1\": 1, \"k2\": 2, \"k3\": 3} #访问不存在的键会报错 dict3[\"k5\"] #KeyError: 'k5' #增加/更新键值对 dict4={\"k1\": 1, \"k2\": 2, \"k3\": 3} dict4[\"k2\"] = \"v2\" print(dict4) #{'k1': 1, 'k2': 'v2', 'k3': 3} dict4[\"k4\"] = 4 print(dict4) #{'k1': 1, 'k2': 'v2', 'k3': 3, 'k4': 4} #删除键值对/清空字典/删除字典 del dict4[\"k4\"] print(dict4) #{'k1': 1, 'k2': 'v2', 'k3': 3} dict4.clear() print(dict4) #{} del dict4 print(dict4) #NameError: name 'dict4' is not defined. Did you mean: 'dict1'? 注意：字典的键必须是不可变的，所以可以使用数值、字符串、元组作为键，但是不能使用列表、字典作为键。\n字典的键必须是不可变的即可以对对象使用hash函数\ndict1 = {(1,2,3):\"ok\"} dict2 = {[1,2,3]:\"not ok\"} #TypeError: unhashable type: 'list' dict3 = {{\"k1\":\"v1\"}:\"not ok\"} #TypeError: unhashable type: 'dict' 内置函数：\n#len(dict)获取字典键值对个数 dict1={\"k1\": 1, \"k2\": 2, \"k3\": 3} len(dict1) #3 #str(dict)输出字符串形式的字典表示 dict1={\"k1\": 1, \"k2\": 2, \"k3\": 3} str(dict1) #\"{'k1': 1, 'k2': 2, 'k3': 3}\" #keyName in dict 判断键是否在字典中 dict1={\"k1\": 1, \"k2\": 2, \"k3\": 3} \"k1\" in dict1 #True \"k11\" in dict1 #False #keyName not in dict 判断键是否不在字典中 dict1={\"k1\": 1, \"k2\": 2, \"k3\": 3} \"k1\" not in dict1 #False \"k11\" not in dict1 #True 自带方法：\n#dict.clear()清空字典 dict1={\"k1\": 1, \"k2\": 2, \"k3\": 3} dict1.clear() #dict.copy()浅拷贝一个字典 list1 = [1,2,3] dict1 = {\"k1\": \"v1\", \"k2\":list1} dict2 = dict1.copy() print(dict2) #{'k1': 'v1', 'k2': [1, 2, 3]} list1.append(\"ok\") print(dict1) #{'k1': 'v1', 'k2': [1, 2, 3, 'ok']} print(dict2) #{'k1': 'v1', 'k2': [1, 2, 3, 'ok']} #dict.fromkeys(seq[,value]) dict1 = dict.fromkeys(\"python\", 520) #使用序列创建字典 print(dict1) #{'p': 520, 'y': 520, 't': 520, 'h': 520, 'o': 520, 'n': 520} #dict1.pop(k[,d]) remove specified key and return the corresponding value dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} print(dict1.pop(\"k2\")) #2 print(dict1) #{'k1': 1, 'k3': 3} print(dict1.pop(\"k4\")) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e KeyError: 'k4' print(dict1.pop(\"k4\", \"not found\")) #not found #dict1.popitem() Pairs are returned in LIFO (last-in, first-out) order Raises KeyError if the dict is empty dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} print(dict1.popitem()) #('k3', 3) dict1[\"k4\"] = 4 print(dict1.popitem()) #('k4', 4) #dict1.update() 批量更新dict dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} dict1.update({\"k3\": 33, \"k4\": 44}) print(dict1) #{'k1': 1, 'k2': 2, 'k3': 33, 'k4': 44} #dict1.get(key, default=None) dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} print(dict1.get(\"k1\")) #1 print(dict1.get(\"k4\")) #None print(dict1.get(\"k4\", \"not found\")) #not found #dict1.setdefault(key, default=None) 如果key不在dict中则设置值，并返回该key的value dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} print(dict1.setdefault(\"k2\")) #2 print(dict1.setdefault(\"k4\", 4)) #4 print(dict1) #{'k1': 1, 'k2': 2, 'k3': 3, 'k4': 4} #dict1.items() dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} items = dict1.items() print(items) #dict_items([('k1', 1), ('k2', 2), ('k3', 3)]) dict1[\"k4\"] = 4 print(items) #dict_items([('k1', 1), ('k2', 2), ('k3', 3), ('k4', 4)]) #dict1.keys() dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} keys = dict1.keys() print(keys) #dict_keys(['k1', 'k2', 'k3']) dict1[\"k4\"] = 4 print(keys) #dict_keys(['k1', 'k2', 'k3', 'k4']) #dict.values() dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} values = dict1.values() print(values) #dict_values([1, 2, 3]) dict1[\"k4\"] = 4 print(values) #dict_values([1, 2, 3, 4]) #key1 in dict1 dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} \"k1\" in dict1 #True \"k4\" in dict1 #False #key1 not in dict1 dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} \"k1\" not in dict1 #False \"k4\" not in dict1 #True #list(dict1) dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} list(dict1) #['k1', 'k2', 'k3'] #iter(dict1) dict1 = {\"k1\": 1, \"k2\": 2, \"k3\": 3} d = iter(dict1) next(d) #'k1' next(d) #'k2' next(d) #'k3' next(d) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e StopIteration set集合 集合中所有元素应该是不重复的，而且是无序的\nset1 = {\"a\", \"b\", \"c\"} set1 = {s for s in \"abc\"} set1 = set(\"abc\") set1[0] #集合不可索引 Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e TypeError: 'set' object is not subscriptable #set1.copy() #set1.isdisjoint(set2) #判断两个集合是否毫不相干 #set1.issubset(set2) \u003c= #检测一个集合是不是另一个集合的子集 #set1.issuperset() \u003e= #检测一个集合是不是另一个集合的超集 #set1.union(set2) | #set1.intersection(set1) \u0026 集合交集 #set1.difference(set2) - 差集 可变集合(set) \u0026 不可变集合(frozenset)\nset1 = {\"a\", \"b\", \"c\"} set1.update([1,1], \"23\") #以可迭代的方式处理参数 print(set1) #{1, 'b', 'a', 'c', '3', '2'} set1.add(\"23\") #添加单个元素到set print(set1) #{1, '23', 'b', 'a', 'c', '3', '2'} p = set1.pop() #Remove and return an arbitrary set element. Raises KeyError if the set is empty print(p) #1 set1.clear() print(set1) #set() fs = frozenset({\"a\", \"b\", \"c\"}) fs.update(\"abc\") Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e AttributeError: 'frozenset' object has no attribute 'update' fs.add(1) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e AttributeError: 'frozenset' object has no attribute 'add' 时间 时间戳都以自从1970年1月1日午夜经过了多长秒来表示\n#时间戳 import time t1 = time.time() print(t1) #1665641987.3554833 秒的浮点数 #本地时间 import time localtime = time.localtime(time.time()) print(localtime) #time.struct_time(tm_year=2022, tm_mon=10, tm_mday=13, tm_hour=6, tm_min=22, tm_sec=58, tm_wday=3, tm_yday=286, tm_isdst=0) localtime = time.localtime() print(localtime) #可读时间 import time localtime = time.asctime(time.localtime(time.time())) print(localtime) #Thu Oct 13 06:25:30 2022 #格式化 import time time_str = time.strftime(\"%Y-%m-%d %H:%M:%S\", time.localtime()) print(time_str) #2022-10-13 06:27:39 time_str = time.strftime(\"%Y-%m-%d %H:%M:%S\") print(time_str) #2022-10-13 06:28:04 异常 处理异常 python3: num = 1 num / 0 Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e ZeroDivisionError: division by zero try: 1/0 except: print(\"出错\") 出错 try: 1/0 except ZeroDivisionError: print(\"除数不能为0\") 除数不能为0 try: 1/0 except ZeroDivisionError as e: print(e) division by zero try: 1/0 except (ZeroDivisionError, ValueError, TypeError): print(\"出错啦\") 出错啦 try: 1/0 except (ZeroDivisionError, ValueError, TypeError) as err: print(\"出错啦\", err) 出错啦 division by zero try: 1/0 except ZeroDivisionError: print(\"ZeroDivisionError\") except ValueError: print(\"ValueError\") except TypeError: print(\"TypeError\") ZeroDivisionError def myfunc(arg): try: int(arg) except Exception as err: print(\"出错啦\", err) else: print(\"没有任何问题\") finally: print(\"finally语句\") myfunc(\"abc\") 出错啦 invalid literal for int() with base 10: 'abc' finally语句 myfunc(\"123\") 没有任何问题 finally语句 抛出异常 def myfunc(level): if level == 1: pass elif level == 2: pass else: raise Exception(\"invalid level\") myfunc(1) myfunc(3) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e File \"\", line 7, in myfunc Exception: invalid level def myfunc(arg): try: int(arg) except ValueError as err: raise Exception(\"出错啦\") from err myfunc(\"123\") myfunc(\"abc\") Traceback (most recent call last): File \"\", line 3, in myfunc ValueError: invalid literal for int() with base 10: 'abc' The above exception was the direct cause of the following exception: Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e File \"\", line 5, in myfunc Exception: 出错啦 函数 函数定义 #定义 def functionname( parameters ): \"函数_文档字符串\" function_suite return [expression] import time def printtime(): \"打印本地时间\" print(time.localtime()) printtime() #time.struct_time(tm_year=2022, tm_mon=10, tm_mday=13, tm_hour=7, tm_min=11, tm_sec=50, tm_wday=3, tm_yday=286, tm_isdst=0) 可变对象和不可变对象\n在python中数值类型、字符串类型、元组类型是不可变的(可hash)\n列表、字典、对象是可变的(不可hash)\n在python中变量都是指向实际类型的指针\ndef change_number(num): num = 10 num = 1 change_number(num) print(num) #1 def change_list(l): l.append('a') l1 = [1,2,3] change_list(l1) print(l1) #[1, 2, 3, 'a'] 在change_number函数中num是指向数值类型的指针，由于数值类型是不可变类型，在函数内对该值进行修改会生成一个新的数值类型，然后num指向它\n在change_list函数中l变量和调用函数是的l1变量都指向同一个列表，由于列表是可变对象，所以会在该对象上追加元素，并不会生成新的对象，所以函数内的修改函数外也能看见\n函数参数 位置参数,函数调用时参数的个数必须和定义的个数相同\ndef greet(name, welcome_str): print(f\"{welcome_str},{name}!\") greet(\"python\", \"hello\") #hello,python! 关键字参数,使用关键字参数后可以不按函数定义的参数位置给各个参数传值,但是位置参数之前不能有关键字参数，关键字参数必须完全放在位置参数之后\ndef greet(name, welcome_str): print(f\"{welcome_str},{name}!\") greet(\"python\", \"hello\") greet(name=\"python\", welcome_str=\"hello\") greet(welcome_str=\"hello\", name=\"python\") greet(\"python\", welcome_str=\"hello\") greet(name=\"python\", \"hello\") #SyntaxError: positional argument follows keyword argument 在使用help()查看函数的帮助文档时，许多内置函数如sum()在函数的定义中都有/ 意味着/左侧的参数只能是位置参数 /右侧的参数可以是关键字参数\nhelp(sum) sum(iterable, /, start=0) Return the sum of a 'start' value (default: 0) plus an iterable of numbers sum([1,2,3]) #6 sum(iterable=[1,2,3]) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e TypeError: sum() takes at least 1 positional argument (0 given) sum([1,2,3], 6) #12 sum([1,2,3], start=6) #12 def greet(name, /, welcome_str): print(f\"{welcome_str},{name}!\") greet(\"python\", \"hello\") #hello,python! greet(\"python\", welcome_str=\"hello\") #hello,python! greet(name=\"python\", welcome_str=\"hello\") Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e TypeError: greet() got some positional-only arguments passed as keyword arguments: 'name' 函数参数列表中出现*号参数表示左侧参数即可以是位置参数/关键字参数，右侧必须是关键字参数\ndef greet(name, *, welcome_str): print(f\"{welcome_str},{name}!\") greet(\"hello\", \"python\") Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e TypeError: greet() takes 1 positional argument but 2 were given greet(\"hello\", welcome_str=\"python\") #python,hello! greet(name=\"hello\", welcome_str=\"python\") #python,hello! 默认参数\ndef greet(name, welcome_str=\"hello\"): print(f\"{welcome_str},{name}!\") greet(\"python\") #hello,python! greet(\"python\", \"Hello\") #Hello,python! #函数定义时非默认参数必须在默认参数之前 def greet(welcome_str=\"hello\", name): #SyntaxError: non-default argument follows default argument print(f\"{welcome_str},{name}!\") 特殊参数 *var 会把传递的参数收集成元组\ndef myfunc(a, b, *c): print(a, b, c) myfunc(1,2) #1 2 () myfunc(1,2,3,4,5) #1 2 (3, 4, 5) **var 会把参数收集成字典,多余的参数必须以关键字参数提供\ndef myfunc(a, b, **c): print(a, b, c) myfunc(1,2) #1 2 {} myfunc(1,2, 3) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e TypeError: myfunc() takes 2 positional arguments but 3 were given myfunc(1,2,k1=3,k2=4,k3=5) #1 2 {'k1': 3, 'k2': 4, 'k3': 5} return语句\n函数可以使用return语句返回一个返回值，如果只写return或者函数没有return那么会返回None\n函数返回多个参数和多个形参接收函数的多个返回值\ndef myfunc(): return 1,2,3 #自动打包为一个元组返回 res = myfunc() print(res) #(1, 2, 3) x, y, z = myfunc() #自动解包 print(x, y, z) #1 2 3 x, y = myfunc() #解包失败，解包对应的元素个数必须要和元组中元素个数对应 Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e ValueError: too many values to unpack (expected 2) def myfunc(): return [1,2,3] x, y, z = myfunc() #列表也可以解包 print(x, y, z) #1 2 3 变量作用域 python找一个变量的过程为LEGB, Local -\u003e Enclosed(嵌套函数的外层作用域) -\u003e Global -\u003e Build-In\ntotal = 0 def myfunc(num1, num2): #函数中访问的都是局部的变量 total = num1+num2 myfunc(1,2) print(total) #0 total = 0 def myfunc(num1, num2): #使用global申明变量为全局变量 global total total = num1+num2 myfunc(1,2) print(total) #3 def myfunc1(): a = 1 b = 2 def myfunc2(): b = 20 #内层函数如果找不到变量，会一直往上找 print(f\"total={total} a={a} b={b}\") return myfunc2 func2 = myfunc1() func2() #total=3 a=1 b=20 def myfunc1(): a = 1 def myfunc2(): #内层函数不能修改外层函数的值，除非用nonlocal申明 nonlocal a a = 10 myfunc2() print(a) myfunc1() #10 #nolocal若有多层嵌套也只修改找到的第一个上一层 def myfunc1(): a = 1 def myfunc2(): a = 2 def myfunc3(): nonlocal a a = 10 print(f\"in func3 a={a}\") myfunc3() print(f\"in func2 a={a}\") myfunc2() print(f\"in func1 a={a}\") myfunc1() #in func3 a=10 #in func2 a=10 #in func1 a=1 def myfunc1(): a = 1 def myfunc2(): def myfunc3(): nonlocal a a = 10 print(f\"in func3 a={a}\") myfunc3() myfunc2() print(f\"in func1 a={a}\") myfunc1() #in func3 a=10 #in func1 a=10 def myfilter(iterable, check_func): ret = [] for item in iterable: if check_func(item): ret.append(item) return ret def odd_func(item): return item % 2 == 0 myfilter([1,2,3,4], odd_func) #[2, 4] myfilter(range(0, 10), odd_func) #[0, 2, 4, 6, 8] 闭包 def exp(n1): def base(n2): return n2 ** n1 return base square = exp(2) square(2) #4 square(3) #9 cube = exp(3) cube(2) #8 cube(3) #27 装饰器 import time def time_recorder(func): def call_func(): start = time.time() func() end = time.time() print(f\"共耗费 {end-start} 秒\") return call_func @time_recorder def myfunc(): time.sleep(1) print(\"hello, python!\") myfunc() hello, python! 共耗费 1.0047268867492676 秒 等效于 import time def time_recorder(func): def call_func(): start = time.time() func() end = time.time() print(f\"共耗费 {end-start} 秒\") return call_func def myfunc(): time.sleep(1) print(\"hello, python!\") myfunc = time_recorder(myfunc) myfunc() hello, python! 共耗费 1.0110423564910889 秒 def add(func): print(\"add\") def inner(): x = func() return x + 1 return inner def cube(func): print(\"cube\") def inner(): x = func() return x ** 3 return inner def square(func): print(\"square\") def inner(): x = func() return x ** 2 return inner @add @cube @square def myfunc(): return 2 print(myfunc()) square cube add 65 装饰器的执行是自底向上的 ((2 ** 2) ** 3) + 1 = 65 给装饰器传递参数： import time def logger(msg): def time_recorder(func): def call_func(): start = time.time() func() end = time.time() print(f\"{msg} 共耗费 {end-start} 秒\") return call_func return time_recorder @logger(\"A\") def myfunc(): time.sleep(1) print(\"hello, python!\") myfunc() hello, python! A 共耗费 1.0017378330230713 秒 等效于 import time def logger(msg): def time_recorder(func): def call_func(): start = time.time() func() end = time.time() print(f\"{msg} 共耗费 {end-start} 秒\") return call_func return time_recorder def myfunc(): time.sleep(1) print(\"hello, python!\") myfunc = logger(\"A\")(myfunc) myfunc() 多个参数： import time def logger(msg1, msg2): def time_recorder(func): def call_func(): start = time.time() func() end = time.time() print(f\"{msg1} {msg2} 共耗费 {end-start} 秒\") return call_func return time_recorder @logger(\"A\", \"B\") def myfunc(): time.sleep(1) print(\"hello, python!\") myfunc() hello, python! A B 共耗费 1.002345085144043 秒 lambda square = lambda x: x*x square(2) #4 add = lambda x,y: x+y add(1, 2) #3 mapped = map(lambda x:ord(x)+10,\"python\") print(list(mapped)) #[122, 131, 126, 114, 121, 120] filtered = filter(lambda x:x%2==0, range(0, 10)) print(list(filtered)) #[0, 2, 4, 6, 8] 生成器 def counter(): num = 1 while num \u003c= 5: yield num num += 1 print(counter()) # 生成器是一种迭代器 c = counter() next(c) #1 next(c) #2 next(c) #3 next(c) #4 next(c) #5 next(c) Traceback (most recent call last): File \"\", line 1, in \u003cmodule\u003e StopIteration 生成器表达式\nc = (num for num in range(0, 10) if num%2 == 0) print(c) #","wordCount":"6404","inLanguage":"en","datePublished":"2022-11-27T16:16:14+08:00","dateModified":"2022-11-27T16:16:14+08:00","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://moyuduo.github.io/posts/python/"},"publisher":{"@type":"Organization","name":"Moyuduo's Blog","logo":{"@type":"ImageObject","url":"https://moyuduo.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://moyuduo.github.io/ accesskey=h title="Moyuduo's Blog (Alt + H)"><img src=https://moyuduo.github.io/apple-touch-icon.png alt aria-label=logo height=35>Moyuduo's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://moyuduo.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://moyuduo.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://moyuduo.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://moyuduo.github.io/posts/>Posts</a></div><h1 class=post-title>python</h1><div class=post-meta><span title='2022-11-27 16:16:14 +0800 +0800'>November 27, 2022</span>&nbsp;·&nbsp;31 min&nbsp;·&nbsp;6404 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/python.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><h2 id=安装>安装<a hidden class=anchor aria-hidden=true href=#安装>#</a></h2><ol><li>在<a href=https://www.python.org/downloads/source/>https://www.python.org/downloads/source/</a>上找到合适的安装包</li><li>在linux上<code>curl -O https://www.python.org/ftp/python/3.7.14/Python-3.7.14.tgz</code></li><li>解压<code>tar -zxvf python/3.7.14/Python-3.7.14.tgz</code></li><li>修改解压目录下的<code>Modules/Setup</code>按需自定义</li><li>在解压目录下的<code>bin</code>目录下执行<code>./configure</code></li><li>执行<code>make</code></li><li>执行<code>make install</code></li><li>输入py按tab看是否有提示验证是否安装成功</li></ol><h2 id=申明>申明<a hidden class=anchor aria-hidden=true href=#申明>#</a></h2><p>在编写的python脚本文件中，可以在第一行申明<code>#!/usr/bin/python</code>标识默认改脚本的执行程序(路径未pythen可执行文件的具体路径)，如果使用<code>./xxx.py</code>时就会使用该程序执行脚本，如果未申明默认会当做shell脚本进行执行</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#!/usr/bin/python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=中文编码>中文编码<a hidden class=anchor aria-hidden=true href=#中文编码>#</a></h2><p>如果在执行程序时遇到中文乱码问题，可以在脚本文件中申明<code># -*- coding: UTF-8 -*-</code>或<code># coding=utf-8</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#!/usr/bin/python</span>
</span></span><span class=line><span class=cl><span class=c1># coding=utf-8</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;你好！&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=变量>变量<a hidden class=anchor aria-hidden=true href=#变量>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#赋值</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#交换</span>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>y</span><span class=p>,</span> <span class=n>x</span>
</span></span></code></pre></div><h2 id=条件语句>条件语句<a hidden class=anchor aria-hidden=true href=#条件语句>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>num</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>num</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>num</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=n>num</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>条件成立时执行的语句</span> <span class=k>if</span> <span class=n>cond</span> <span class=k>else</span> <span class=n>条件不成立时执行的语句</span>
</span></span><span class=line><span class=cl><span class=n>num</span><span class=o>=</span><span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;num&gt;5&#34;</span><span class=p>)</span> <span class=k>if</span> <span class=n>num</span><span class=o>&gt;</span><span class=mi>5</span> <span class=k>else</span> <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;num&lt;=5&#34;</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=循环>循环<a hidden class=anchor aria-hidden=true href=#循环>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>iterable</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>iterable</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#range函数可以用于生成一个数字可迭代对象</span>
</span></span><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=n>stop</span><span class=p>)</span> <span class=c1>#默认start为0,生成的数组序列不包含stop</span>
</span></span><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>stop</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>range</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>stop</span><span class=p>,</span> <span class=n>step</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>num</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>num</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#使用break跳出循环并不会执行else里面的代码</span>
</span></span><span class=line><span class=cl><span class=n>num</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>num</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></div><h2 id=逻辑运算符>逻辑运算符<a hidden class=anchor aria-hidden=true href=#逻辑运算符>#</a></h2><ol><li>and:操作符左右为Ture才是True，相当于&&</li><li>or:操作符左右任意一边为True就为True，相当于||</li><li>not:取反，相当于 !</li></ol><p>运算符优先级：not > and > or</p><p>and/or遵循逻辑短路运算，即当第一个操作数的逻辑无法确定值时才运算第二个</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=mi>3</span> <span class=ow>and</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>3</span> <span class=ow>or</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>(</span><span class=ow>not</span> <span class=mi>1</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span><span class=mi>0</span> <span class=ow>and</span> <span class=mi>1</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span><span class=mi>3</span> <span class=ow>and</span> <span class=mi>4</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span><span class=mi>5</span> <span class=ow>and</span> <span class=mi>6</span><span class=p>)</span> <span class=ow>or</span> <span class=p>(</span><span class=mi>7</span> <span class=ow>and</span> <span class=mi>8</span> <span class=ow>and</span> <span class=mi>9</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kc>False</span> <span class=ow>or</span> <span class=mi>0</span> <span class=ow>or</span> <span class=mi>4</span> <span class=ow>or</span> <span class=mi>6</span> <span class=ow>or</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=mi>4</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=ow>not</span> <span class=mi>1</span> <span class=ow>or</span> <span class=mi>0</span> <span class=ow>and</span> <span class=mi>1</span> <span class=ow>or</span> <span class=mi>3</span> <span class=ow>and</span> <span class=mi>4</span> <span class=ow>or</span> <span class=mi>5</span> <span class=ow>and</span> <span class=mi>6</span> <span class=ow>or</span> <span class=mi>7</span> <span class=ow>and</span> <span class=mi>8</span> <span class=ow>and</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kc>False</span> <span class=ow>or</span> <span class=mi>0</span> <span class=ow>and</span> <span class=mi>1</span> <span class=ow>or</span> <span class=mi>3</span> <span class=ow>and</span> <span class=mi>4</span> <span class=ow>or</span> <span class=mi>5</span> <span class=ow>and</span> <span class=mi>6</span> <span class=ow>or</span> <span class=mi>7</span> <span class=ow>and</span> <span class=mi>8</span> <span class=ow>and</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kc>False</span> <span class=ow>or</span> <span class=mi>0</span> <span class=ow>or</span> <span class=mi>4</span> <span class=ow>or</span> <span class=mi>6</span> <span class=ow>or</span> <span class=mi>9</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=mi>4</span>
</span></span></code></pre></div><h2 id=数据类型>数据类型<a hidden class=anchor aria-hidden=true href=#数据类型>#</a></h2><p>内置函数<code>type(var)</code>可以返回var的数据类型</p><h3 id=数值类型>数值类型<a hidden class=anchor aria-hidden=true href=#数值类型>#</a></h3><p>数值类型是不可变的数据类型，也就是说如果对数值类型进行改变将会产生一个新的对象</p><p>python支持四种不同的数值类型：</p><ol><li>int(有符号整型)</li><li>long(长整型，使用l或L标识,在3.x版本中已被废弃)</li><li>float(浮点数)</li><li>complex(复数，使用a+bj标识或者complex(a,b))</li></ol><h3 id=布尔类型>布尔类型<a hidden class=anchor aria-hidden=true href=#布尔类型>#</a></h3><ol><li>定义为False的对象：None和False</li><li>转换为False的对象：0，0.0，oj，Decimal(0)，Fraction(0,1),"",(),[],{},set(),range(0)</li></ol><h3 id=字符串>字符串<a hidden class=anchor aria-hidden=true href=#字符串>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#字符串内包含单引号</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;let&#39;s go!&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#字符串内包含双引号</span>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=s1>&#39;&#34;life is short&#34;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#字符串内既包含单引号也包含双引号</span>
</span></span><span class=line><span class=cl><span class=n>str3</span> <span class=o>=</span> <span class=s2>&#34;let&#39;s go! </span><span class=se>\&#34;</span><span class=s2>life is short</span><span class=se>\&#34;</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=n>str4</span> <span class=o>=</span> <span class=s1>&#39;let</span><span class=se>\&#39;</span><span class=s1>s go! &#34;life is short&#34;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#原始字符串</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;D:\one</span><span class=se>\t</span><span class=s2>wo</span><span class=se>\t</span><span class=s2>hree&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>D</span><span class=p>:</span>\<span class=n>one</span>  <span class=n>wo</span>      <span class=n>hree</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># r表示后面的字符串是原始字符串，字符串中的反斜杠不转义</span>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=sa>r</span><span class=s2>&#34;D:\one\two\three&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>D</span><span class=p>:</span>\<span class=n>one</span>\<span class=n>two</span>\<span class=n>three</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#多行文本</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;this is line1
</span></span></span><span class=line><span class=cl><span class=s2>this is line2
</span></span></span><span class=line><span class=cl><span class=s2>this is line3&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>this</span> <span class=ow>is</span> <span class=n>line1</span>
</span></span><span class=line><span class=cl><span class=n>this</span> <span class=ow>is</span> <span class=n>line2</span>
</span></span><span class=line><span class=cl><span class=n>this</span> <span class=ow>is</span> <span class=n>line3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=s2>&#34;&#34;&#34;this is line1
</span></span></span><span class=line><span class=cl><span class=s2>let&#39;s go!
</span></span></span><span class=line><span class=cl><span class=s2>&#34;life is short&#34;
</span></span></span><span class=line><span class=cl><span class=s2>&#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>this</span> <span class=ow>is</span> <span class=n>line1</span>
</span></span><span class=line><span class=cl><span class=n>let</span><span class=s1>&#39;s go!</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;life is short&#34;</span>
</span></span></code></pre></div><p>python字符串索引方式：</p><ol><li>从左到右，下标从0开始递增</li><li>从右往左，小标从-1开始递减</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>python</span>
</span></span><span class=line><span class=cl><span class=mi>012345</span>
</span></span><span class=line><span class=cl><span class=o>-</span><span class=mi>6</span><span class=o>-</span><span class=mi>5</span><span class=o>-</span><span class=mi>4</span><span class=o>-</span><span class=mi>3</span><span class=o>-</span><span class=mi>2</span><span class=o>-</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>s</span><span class=o>=</span><span class=s2>&#34;python&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>    <span class=c1>#python</span>
</span></span><span class=line><span class=cl><span class=c1>#字符串截取使用[idx1:idx2],其中idx2不包含在内</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>3</span><span class=p>])</span>   <span class=c1>#yt</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[:</span><span class=mi>3</span><span class=p>])</span>    <span class=c1>#pyt</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>3</span><span class=p>:])</span>    <span class=c1>#hon</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[:])</span> <span class=c1>#python</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span>   <span class=c1>#pytho</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=o>-</span><span class=mi>5</span><span class=p>:])</span>   <span class=c1>#ython</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=o>-</span><span class=mi>5</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=c1>#ytho</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#指定截取步长</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>6</span><span class=p>:</span><span class=mi>1</span><span class=p>])</span> <span class=c1>#ython</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=mi>6</span><span class=p>:</span><span class=mi>2</span><span class=p>])</span> <span class=c1>#yhn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#字符串运算</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span>  <span class=c1>#pythonpython</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>+</span><span class=mi>2</span><span class=p>)</span>  <span class=c1>#报错can only concatenate str (not &#34;int&#34;) to str</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#字符串拼接</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>s</span><span class=o>+</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>   <span class=c1>#pythonok</span>
</span></span></code></pre></div><p>自身函数:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;I love python&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#首字母大写</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>capitalize</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#单词首字母大写</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>title</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#所有字母大小写转换</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>swapcase</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#全部小写</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>lower</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#全部大写</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>upper</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#字符串居中，如果指定的width小于字符串长度，那么原字符串输出</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>center</span><span class=p>(</span><span class=mi>5</span><span class=p>))</span>   <span class=c1>#I love python</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>center</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>  <span class=c1>#   I love python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#左对齐</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>ljust</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>   <span class=c1>#I love python  有空格  </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#右对齐</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>rjust</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>   <span class=c1>#       I love python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#空白部分0填充</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>zfill</span><span class=p>(</span><span class=mi>20</span><span class=p>))</span>   <span class=c1>#0000000I love python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;上海自来水来自海上&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#str.count(sub[, start[, end]])</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>)</span>    <span class=c1>#2</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span> <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.find(sub[, start[, end]])</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>)</span> <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>  <span class=c1>#7</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span>  <span class=c1>#-1  找不到</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.rfind(sub[, start[, end]])</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>rfind</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>)</span>    <span class=c1>#7</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>rfind</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span> <span class=c1>#7</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>7</span><span class=p>)</span> <span class=c1>#-1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.index(sub[, start[, end]]) 如果找不到就抛出异常</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>)</span>    <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>6</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>ValueError</span><span class=p>:</span> <span class=n>substring</span> <span class=ow>not</span> <span class=n>found</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.expandtabs([tabsize]) tab替换空格</span>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=se>\t</span><span class=s2>hello&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str2</span><span class=p>)</span> <span class=c1>#        hello</span>
</span></span><span class=line><span class=cl><span class=n>str3</span> <span class=o>=</span> <span class=n>str2</span><span class=o>.</span><span class=n>expandtabs</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str3</span><span class=p>)</span> <span class=c1>#  hello</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.replace(old, new, count=-1)</span>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=n>str1</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=s2>&#34;hai&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str2</span><span class=p>)</span> <span class=c1>#上hai自来水来自hai上</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=n>str1</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;海&#34;</span><span class=p>,</span> <span class=s2>&#34;hai&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str2</span><span class=p>)</span> <span class=c1>#上hai自来水来自海上</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.plit(sep=None, maxsplit=-1)分割字符串</span>
</span></span><span class=line><span class=cl><span class=c1>#sep参数自定分隔符，默认未None，如果未指定那么会按照\n \r \t \f 空格 进行分割</span>
</span></span><span class=line><span class=cl><span class=c1>#maxsplit指定最大分割次数</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>=</span><span class=s2>&#34;123:abc:ABC:True:False&#34;</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;:&#34;</span><span class=p>)</span>   <span class=c1>#[&#39;123&#39;, &#39;abc&#39;, &#39;ABC&#39;, &#39;True&#39;, &#39;False&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;:&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>  <span class=c1>#[&#39;123&#39;, &#39;abc&#39;, &#39;ABC:True:False&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.startswith(prefix[, start[, end]]) -&gt; bool 判断字符串是否以指定字符串开头</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;http://www/baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&#34;http&#34;</span><span class=p>)</span> <span class=c1>#True</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&#34;https&#34;</span><span class=p>)</span>    <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&#34;http&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span>  <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&#34;http&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>   <span class=c1>#Flase end不包括</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>startswith</span><span class=p>((</span><span class=s2>&#34;http&#34;</span><span class=p>,</span> <span class=s2>&#34;ftp&#34;</span><span class=p>))</span>    <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.endswith(suffix[, start[, end]]) 判断字符串是否以指定字符结尾</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&#34;.com&#34;</span><span class=p>)</span> <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.isupper()</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>isupper</span><span class=p>()</span>  <span class=c1>#False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.islower()</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>islower</span><span class=p>()</span>  <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.isalpha()  判断字符串是不是纯字母组成</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>.</span><span class=n>isalpha</span><span class=p>()</span>  <span class=c1>#False  包含标点符号不是纯字符</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.lstrip(chars=None) 去除字符串左侧的指定字符,按字符判断，凡是在chars里的字符都去掉</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;  hello,python!  &#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>lstrip</span><span class=p>())</span>    <span class=c1>#hello,python!  右侧有空格</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>lstrip</span><span class=p>(</span><span class=s2>&#34;www.&#34;</span><span class=p>))</span>  <span class=c1>#baidu.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.rstrip(chars=None) 去除字符串右侧的指定字符</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;  hello,python!  &#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>rstrip</span><span class=p>())</span>    <span class=c1>#  hello,python!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>rstrip</span><span class=p>(</span><span class=s2>&#34;.com&#34;</span><span class=p>))</span>  <span class=c1>#www.baidu</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.strip(chars=None)</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;  hello,python!  &#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>strip</span><span class=p>())</span> <span class=c1>#hello,python!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=s2>&#34;www..com&#34;</span><span class=p>))</span>   <span class=c1>#baidu</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.removeprefix() 去除字符串指定前缀字符串</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>removeprefix</span><span class=p>(</span><span class=s2>&#34;www.&#34;</span><span class=p>))</span>    <span class=c1>#baidu.com</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.removesuffix() 去除字符串指定后缀字符串</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>removesuffix</span><span class=p>(</span><span class=s2>&#34;.com&#34;</span><span class=p>))</span>    <span class=c1>#www.baidu</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.partition(sep)   通过指定分隔符把字符串分割为三部分,从左往右找第一个分隔符进行分割</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>partition</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>))</span>  <span class=c1>#(&#39;www&#39;, &#39;.&#39;, &#39;baidu.com&#39;)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>partition</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>))</span>  <span class=c1>#(&#39;www.baidu.com&#39;, &#39;&#39;, &#39;&#39;) 找不到分隔符的话元祖后两个字符为空</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.rpartition(sep) </span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>rpartition</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>))</span> <span class=c1>#(&#39;www.baidu&#39;, &#39;.&#39;, &#39;com&#39;)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.split(sep=None, maxsplit=-1) 默认以空格分割</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>))</span>  <span class=c1>#[&#39;www&#39;, &#39;baidu&#39;, &#39;com&#39;]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>   <span class=c1>#[&#39;www&#39;, &#39;baidu.com&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.rsplit(sep=None, maxsplit=-1)</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;www.baidu.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>rsplit</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>))</span> <span class=c1>#[&#39;www&#39;, &#39;baidu&#39;, &#39;com&#39;]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>rsplit</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>))</span>   <span class=c1>#[&#39;www.baidu&#39;, &#39;com&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.splitlines(keepends=False)   按换行符分割字符串，可以处理不同操作系统下换行符不同的问题</span>
</span></span><span class=line><span class=cl><span class=c1>#在linux换行符是\n  在mac下换行符是\r   在windows下换行符是\r\n</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;line1</span><span class=se>\n</span><span class=s2>line2</span><span class=se>\r</span><span class=s2>line3</span><span class=se>\r\n</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>splitlines</span><span class=p>())</span>    <span class=c1>#[&#39;line1&#39;, &#39;line2&#39;, &#39;line3&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>splitlines</span><span class=p>(</span><span class=n>keepends</span><span class=o>=</span><span class=kc>True</span><span class=p>))</span>   <span class=c1>#[&#39;line1\n&#39;, &#39;line2\r&#39;, &#39;line3\r\n&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str.join(iterable) 使用指定分隔符连接列表返回字符串</span>
</span></span><span class=line><span class=cl><span class=n>cat_str</span> <span class=o>=</span> <span class=s2>&#34;,&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>cat_str</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span> <span class=s2>&#34;c&#34;</span><span class=p>]))</span>    <span class=c1>#a,b,c</span>
</span></span></code></pre></div><h4 id=格式化字符串>格式化字符串<a hidden class=anchor aria-hidden=true href=#格式化字符串>#</a></h4><p><a href=https://blog.csdn.net/ex_6450/article/details/125031543>https://blog.csdn.net/ex_6450/article/details/125031543</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#1. str.format()</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>{}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>))</span>   <span class=c1>#hello, i am tom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>{}</span><span class=s2>, </span><span class=si>{}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span>   <span class=c1>#hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>{0}</span><span class=s2>, </span><span class=si>{1}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span>   <span class=c1>#hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>{name}</span><span class=s2>, </span><span class=si>{age}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>20</span><span class=p>))</span>  <span class=c1>#hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>{0}</span><span class=s2>, </span><span class=si>{age}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>20</span><span class=p>))</span>   <span class=c1>#hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#在字符串里有原始的大括号用双大括号 或 用单大括号然后format的时候传入大括号</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;{{}}hello, i am </span><span class=si>{0}</span><span class=s2>, </span><span class=si>{age}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>20</span><span class=p>))</span>   <span class=c1>#{}hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=si>{0}</span><span class=s2>hello, i am </span><span class=si>{1}</span><span class=s2>, </span><span class=si>{age}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>{}</span><span class=s2>&#34;</span><span class=p>,</span> <span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=n>age</span><span class=o>=</span><span class=mi>20</span><span class=p>))</span> <span class=c1>#{}hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#2. %</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>%s</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span> <span class=o>%</span> <span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>))</span>   <span class=c1>#hello, i am tom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;hello, i am </span><span class=si>%s</span><span class=s2>, </span><span class=si>%d</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span> <span class=o>%</span> <span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span>   <span class=c1>#hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=si>{}</span><span class=s2>hello, i am </span><span class=si>%s</span><span class=s2>, </span><span class=si>%d</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span> <span class=o>%</span> <span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>))</span>   <span class=c1>#{}hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#3. f</span>
</span></span><span class=line><span class=cl><span class=n>name</span> <span class=o>=</span> <span class=s2>&#34;tom&#34;</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;hello, i am </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=p>)</span> <span class=c1>#hello, i am tom</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>name</span> <span class=o>=</span> <span class=s2>&#34;tom&#34;</span>
</span></span><span class=line><span class=cl><span class=n>age</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;hello, i am </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=p>)</span> <span class=c1>#hello, i am tom, 20 years old</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>name</span> <span class=o>=</span> <span class=s2>&#34;tom&#34;</span>
</span></span><span class=line><span class=cl><span class=n>age</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=se>{{}}</span><span class=s2>hello, i am </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>, </span><span class=si>{</span><span class=n>age</span><span class=si>}</span><span class=s2> years old&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>str1</span><span class=p>)</span> <span class=c1>#{}hello, i am tom, 20 years old</span>
</span></span></code></pre></div><h3 id=列表>列表<a hidden class=anchor aria-hidden=true href=#列表>#</a></h3><p>列表可以包含数值、字符串、布尔、列表等类型，甚至一个列表可以包含多种数据类型</p><p>列表的索引和字符串一样</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=kc>True</span><span class=p>,[</span><span class=mf>3.14</span><span class=p>]]</span>   <span class=c1>#列表可以包含多种数据类型</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>)</span>  <span class=c1>#[1, &#39;a&#39;, True, [3.14]]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>   <span class=c1>#&#39;a&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>:])</span>  <span class=c1>#[&#39;a&#39;, True, [3.14]]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>[:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=c1>#[1, &#39;a&#39;, True]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>[::</span><span class=mi>2</span><span class=p>])</span> <span class=c1>#[1, True]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#计算</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=o>*</span><span class=mi>2</span><span class=p>)</span>    <span class=c1>#[1, &#39;a&#39;, True, [3.14], 1, &#39;a&#39;, True, [3.14]]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr</span><span class=p>[::</span><span class=mi>2</span><span class=p>]</span> <span class=o>+</span> <span class=n>arr</span><span class=p>[</span><span class=mi>1</span><span class=p>::</span><span class=mi>2</span><span class=p>])</span> <span class=c1>#[1, &#39;a&#39;, True, [3.14]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>arr2</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>arr3</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>arr2</span><span class=o>-</span><span class=n>arr3</span><span class=p>)</span>    <span class=c1>#报错unsupported operand type(s) for -: &#39;list&#39; and &#39;list&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#判断列表中是否存在某个元素</span>
</span></span><span class=line><span class=cl><span class=mi>2</span> <span class=ow>in</span> <span class=n>arr2</span>   <span class=c1>#True</span>
</span></span></code></pre></div><p>相关内置函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#cmp(list1, list2)比较两个列表,3.x版本已经废弃</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>cmp</span><span class=p>(</span><span class=n>list1</span><span class=p>,</span> <span class=n>list2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#len(list)获取列表的直接子元素个数</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>  <span class=c1>#3</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nb>len</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>  <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#max(list)获取列表大最大元素</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>max</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>  <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;A&#39;</span><span class=p>,</span><span class=kc>True</span><span class=p>,</span><span class=kc>False</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>max</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>  <span class=c1>#报错 TypeError: &#39;&gt;&#39; not supported between instances of &#39;str&#39; and &#39;int&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=kc>True</span><span class=p>,</span><span class=kc>False</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>max</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list4</span><span class=o>=</span><span class=p>[</span><span class=kc>True</span><span class=p>,</span><span class=kc>False</span><span class=p>,</span><span class=s2>&#34;a&#34;</span><span class=p>,</span><span class=s2>&#34;A&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>max</span><span class=p>(</span><span class=n>list4</span><span class=p>)</span>  <span class=c1>#报错 TypeError: &#39;&gt;&#39; not supported between instances of &#39;str&#39; and &#39;bool&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#min(list)获取列表的最小元素</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>min</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;A&#39;</span><span class=p>,</span><span class=kc>True</span><span class=p>,</span><span class=kc>False</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>min</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>  <span class=c1>#报错 TypeError: &#39;&lt;&#39; not supported between instances of &#39;str&#39; and &#39;int&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=kc>True</span><span class=p>,</span><span class=kc>False</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>min</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>  <span class=c1>#False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list4</span><span class=o>=</span><span class=p>[</span><span class=kc>True</span><span class=p>,</span><span class=kc>False</span><span class=p>,</span><span class=s2>&#34;a&#34;</span><span class=p>,</span><span class=s2>&#34;A&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>min</span><span class=p>(</span><span class=n>list4</span><span class=p>)</span>  <span class=c1>#报错 TypeError: &#39;&lt;&#39; not supported between instances of &#39;str&#39; and &#39;bool&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list(tuple)姜元组转化为列表</span>
</span></span><span class=line><span class=cl><span class=n>tup1</span><span class=o>=</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>(</span><span class=n>tup1</span><span class=p>)</span>  <span class=c1>#[1, 2, 3]</span>
</span></span></code></pre></div><p>自带方法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#list.append(obj)在列表的末尾追加一个元素</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span> <span class=c1>#[1, 2, 3, &#39;a&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.count(obj)统计某个元素在列表中出现的次数</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>    <span class=c1>#0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.extend(iterable)使用另一个可迭代列表扩展本列表</span>
</span></span><span class=line><span class=cl><span class=c1>#等同于 list[len(list):] = list2</span>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list4</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>list4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>    <span class=c1>#[1, 2, 3, &#39;a&#39;, &#39;b&#39;]</span>
</span></span><span class=line><span class=cl><span class=n>tup1</span><span class=o>=</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>,</span><span class=s1>&#39;B&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>tup1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>    <span class=c1>#[1, 2, 3, &#39;a&#39;, &#39;b&#39;, &#39;A&#39;, &#39;B&#39;]</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=o>=</span><span class=p>{</span><span class=s1>&#39;k1&#39;</span><span class=p>:</span> <span class=s1>&#39;v1&#39;</span><span class=p>,</span> <span class=s1>&#39;k2&#39;</span><span class=p>:</span><span class=s1>&#39;v2&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>.</span><span class=n>extend</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>   <span class=c1>#[1, 2, 3, &#39;a&#39;, &#39;b&#39;, &#39;A&#39;, &#39;B&#39;, &#39;k1&#39;, &#39;k2&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.index(obj, start, end)从列表这种找到第一个匹配元素的索引,包含start不包含end</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1>#0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>index</span><span class=p>([</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>])</span>  <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.insert(idx, obj)将元素插入到指定位置,该位置及其之后的元素一次往后移</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>    <span class=c1>#[1, &#39;a&#39;, 2, 3]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.pop(idx=-1)移除列表中指定位置(默认最后一个)的元素并返回</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span> <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>    <span class=c1>#2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>=</span><span class=p>[]</span>
</span></span><span class=line><span class=cl><span class=n>list3</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span> <span class=c1>#报错 IndexError: pop from empty list</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.remove(obj)移除列表中元素的第一个匹配项</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=c1>#报错 ValueError: list.remove(x): x not in list</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.reverse()反转列表,并不会反转列表中的列表元素(非递归)</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>    <span class=c1>#[3, 2, 1]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>reverse</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>    <span class=c1>#[[&#39;a&#39;, &#39;b&#39;], 3, 2, 1]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.sort(cmp=None,key=None,reverse=False)杜列表进行排序</span>
</span></span><span class=line><span class=cl><span class=c1>#key参数指定使用元素的键进行比较</span>
</span></span><span class=line><span class=cl><span class=c1>#reverse参数指定排序的升降序，False升序，True降序</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>    <span class=c1>#[1, 2, 3, 4]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span><span class=p>:</span> <span class=mi>20</span><span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;jack&#34;</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span><span class=p>:</span> <span class=mi>18</span><span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;jarry&#34;</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span><span class=p>:</span> <span class=mi>25</span><span class=p>},</span> 
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sortFunc</span><span class=p>(</span><span class=n>p</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>p</span><span class=p>[</span><span class=s2>&#34;age&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>.</span><span class=n>sort</span><span class=p>(</span><span class=n>key</span><span class=o>=</span><span class=n>sortFunc</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>    <span class=c1>#[{&#39;name&#39;: &#39;jack&#39;, &#39;age&#39;: 18}, {&#39;name&#39;: &#39;tom&#39;, &#39;age&#39;: 20}, {&#39;name&#39;: &#39;jarry&#39;, &#39;age&#39;: 25}]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.clear()清空列表</span>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>    <span class=c1>#[1, 2, 3]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>    <span class=c1>#[] 变量的定义还在</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list.copy()浅拷贝一个列表 同 list2 = list1[:] 同 list2 = copy.copy(list1)</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>,</span><span class=s1>&#39;c&#39;</span><span class=p>,</span><span class=n>list1</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span> <span class=c1>#  [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 2, 3]]</span>
</span></span><span class=line><span class=cl><span class=n>list3</span> <span class=o>=</span> <span class=n>l2</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>    <span class=c1>#   [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 2, 3]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list4</span> <span class=o>=</span> <span class=n>list2</span><span class=p>[:]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>copy</span>
</span></span><span class=line><span class=cl><span class=n>list5</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>copy</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>=</span><span class=mi>20</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>    <span class=c1>#   [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 20, 3]]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>    <span class=c1>#   [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 20, 3]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#深拷贝</span>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list2</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>,</span><span class=s1>&#39;c&#39;</span><span class=p>,</span><span class=n>list1</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span> <span class=c1>#  [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 2, 3]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>copy</span>
</span></span><span class=line><span class=cl><span class=n>list3</span> <span class=o>=</span> <span class=n>copy</span><span class=o>.</span><span class=n>deepcopy</span><span class=p>(</span><span class=n>list2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>    <span class=c1>#   [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 2, 3]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list3</span><span class=p>)</span>    <span class=c1>#   [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, [1, 2, 3]]</span>
</span></span></code></pre></div><p>列表推导式</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=n>item</span><span class=o>*</span><span class=mi>2</span> <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>list1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>even</span> <span class=o>=</span> <span class=p>[</span><span class=n>num</span> <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=k>if</span> <span class=n>num</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>even</span><span class=p>)</span> <span class=c1>#[0, 2, 4, 6, 8]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>6</span><span class=p>],</span> <span class=p>[</span><span class=mi>7</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>9</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=n>flatten</span> <span class=o>=</span> <span class=p>[</span><span class=n>col</span> <span class=k>for</span> <span class=n>row</span> <span class=ow>in</span> <span class=n>list1</span> <span class=k>for</span> <span class=n>col</span> <span class=ow>in</span> <span class=n>row</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>flatten</span><span class=p>)</span>  <span class=c1>#[1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[[</span><span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>]</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=k>if</span> <span class=n>x</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span> <span class=k>for</span> <span class=n>y</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=k>if</span> <span class=n>y</span><span class=o>%</span><span class=mi>3</span> <span class=o>==</span> <span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>    <span class=c1>#[[0, 0], [0, 3], [0, 6], [0, 9], [2, 0], [2, 3], [2, 6], [2, 9], [4, 0], [4, 3], [4, 6], [4, 9], [6, 0], [6, 3], [6, 6], [6, 9], [8, 0], [8, 3], [8, 6], [8, 9]]</span>
</span></span></code></pre></div><h3 id=元组>元组<a hidden class=anchor aria-hidden=true href=#元组>#</a></h3><p>元组与列表类似，只是元组中的元素不能修改</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t1</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>t2</span> <span class=o>=</span> <span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>t3</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,)</span> <span class=c1>#创建只带有一个元素的元组需要在元素后面加逗号</span>
</span></span><span class=line><span class=cl><span class=n>t4</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=c1>#如果元祖的元素是列表，那么可以对该列表的元素进行修改</span>
</span></span><span class=line><span class=cl><span class=n>t5</span> <span class=o>=</span> <span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span><span class=s1>&#39;b&#39;</span><span class=p>,</span><span class=s1>&#39;c&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t5</span><span class=p>)</span>   <span class=c1>#([1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</span>
</span></span><span class=line><span class=cl><span class=n>t5</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=n>t5</span><span class=p>[</span><span class=mi>1</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;A&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t5</span><span class=p>)</span>   <span class=c1>#([10, 2, 3], [&#39;A&#39;, &#39;b&#39;, &#39;c&#39;])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#判断元组中是否存在某个元素</span>
</span></span><span class=line><span class=cl><span class=mi>3</span> <span class=ow>in</span> <span class=n>t1</span> <span class=c1>#True</span>
</span></span></code></pre></div><p>元素的访问、截取、复制、连接的用法和列表相同</p><p>内置函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#tuple(list)把列表转化为元组</span>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>tup1</span> <span class=o>=</span> <span class=nb>tuple</span><span class=p>(</span><span class=n>list1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>tup1</span><span class=p>)</span> <span class=c1>#(1, 2, 3)</span>
</span></span></code></pre></div><p>解包</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>t1</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t1</span><span class=p>)</span>   <span class=c1>#(1, 2, 3)</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>,</span><span class=n>b</span><span class=p>,</span><span class=n>c</span> <span class=o>=</span> <span class=n>t1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>  <span class=c1>#1 2 3</span>
</span></span></code></pre></div><h3 id=dict字典>dict字典<a hidden class=anchor aria-hidden=true href=#dict字典>#</a></h3><p>字段使用kv形式保存键值对，如果有多个相同的键，那么后一个键的值会覆盖前一个</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>dict1</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k2&#39;: 2, &#39;k3&#39;: 3}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>k1</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>k2</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>k3</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>({</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>})</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>([(</span><span class=s2>&#34;k1&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=s2>&#34;k2&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=p>(</span><span class=s2>&#34;k3&#34;</span><span class=p>,</span> <span class=mi>3</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict2</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>,</span> <span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict2</span><span class=p>)</span> <span class=c1>#{&#39;k1&#39;: -1, &#39;k2&#39;: 2, &#39;k3&#39;: 3}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict3</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>#访问不存在的键会报错</span>
</span></span><span class=line><span class=cl><span class=n>dict3</span><span class=p>[</span><span class=s2>&#34;k5&#34;</span><span class=p>]</span> <span class=c1>#KeyError: &#39;k5&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#增加/更新键值对</span>
</span></span><span class=line><span class=cl><span class=n>dict4</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>dict4</span><span class=p>[</span><span class=s2>&#34;k2&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;v2&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict4</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k2&#39;: &#39;v2&#39;, &#39;k3&#39;: 3}</span>
</span></span><span class=line><span class=cl><span class=n>dict4</span><span class=p>[</span><span class=s2>&#34;k4&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict4</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k2&#39;: &#39;v2&#39;, &#39;k3&#39;: 3, &#39;k4&#39;: 4}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#删除键值对/清空字典/删除字典</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>dict4</span><span class=p>[</span><span class=s2>&#34;k4&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict4</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k2&#39;: &#39;v2&#39;, &#39;k3&#39;: 3}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict4</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict4</span><span class=p>)</span>    <span class=c1>#{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>dict4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict4</span><span class=p>)</span> <span class=c1>#NameError: name &#39;dict4&#39; is not defined. Did you mean: &#39;dict1&#39;?</span>
</span></span></code></pre></div><p><strong>注意：字典的键必须是不可变的，所以可以使用数值、字符串、元组作为键，但是不能使用列表、字典作为键。</strong></p><p><strong>字典的键必须是不可变的即可以对对象使用hash函数</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>):</span><span class=s2>&#34;ok&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict2</span> <span class=o>=</span> <span class=p>{[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]:</span><span class=s2>&#34;not ok&#34;</span><span class=p>}</span>  <span class=c1>#TypeError: unhashable type: &#39;list&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict3</span> <span class=o>=</span> <span class=p>{{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span><span class=s2>&#34;v1&#34;</span><span class=p>}:</span><span class=s2>&#34;not ok&#34;</span><span class=p>}</span>  <span class=c1>#TypeError: unhashable type: &#39;dict&#39;</span>
</span></span></code></pre></div><p>内置函数：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#len(dict)获取字典键值对个数</span>
</span></span><span class=line><span class=cl><span class=nv>dict1</span><span class=o>={</span><span class=s2>&#34;k1&#34;</span>: 1, <span class=s2>&#34;k2&#34;</span>: 2, <span class=s2>&#34;k3&#34;</span>: 3<span class=o>}</span>
</span></span><span class=line><span class=cl>len<span class=o>(</span>dict1<span class=o>)</span>  <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str(dict)输出字符串形式的字典表示</span>
</span></span><span class=line><span class=cl><span class=nv>dict1</span><span class=o>={</span><span class=s2>&#34;k1&#34;</span>: 1, <span class=s2>&#34;k2&#34;</span>: 2, <span class=s2>&#34;k3&#34;</span>: 3<span class=o>}</span>
</span></span><span class=line><span class=cl>str<span class=o>(</span>dict1<span class=o>)</span>  <span class=c1>#&#34;{&#39;k1&#39;: 1, &#39;k2&#39;: 2, &#39;k3&#39;: 3}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#keyName in dict 判断键是否在字典中</span>
</span></span><span class=line><span class=cl><span class=nv>dict1</span><span class=o>={</span><span class=s2>&#34;k1&#34;</span>: 1, <span class=s2>&#34;k2&#34;</span>: 2, <span class=s2>&#34;k3&#34;</span>: 3<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k1&#34;</span> in dict1   <span class=c1>#True</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k11&#34;</span> in dict1  <span class=c1>#False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#keyName not in dict 判断键是否不在字典中</span>
</span></span><span class=line><span class=cl><span class=nv>dict1</span><span class=o>={</span><span class=s2>&#34;k1&#34;</span>: 1, <span class=s2>&#34;k2&#34;</span>: 2, <span class=s2>&#34;k3&#34;</span>: 3<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k1&#34;</span> not in dict1   <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k11&#34;</span> not in dict1  <span class=c1>#True</span>
</span></span></code></pre></div><p>自带方法：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#dict.clear()清空字典</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=o>=</span><span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict.copy()浅拷贝一个字典</span>
</span></span><span class=line><span class=cl><span class=n>list1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=s2>&#34;v1&#34;</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span><span class=n>list1</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict2</span> <span class=o>=</span> <span class=n>dict1</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict2</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: &#39;v1&#39;, &#39;k2&#39;: [1, 2, 3]}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>list1</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: &#39;v1&#39;, &#39;k2&#39;: [1, 2, 3, &#39;ok&#39;]}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict2</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: &#39;v1&#39;, &#39;k2&#39;: [1, 2, 3, &#39;ok&#39;]}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict.fromkeys(seq[,value])</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=nb>dict</span><span class=o>.</span><span class=n>fromkeys</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=mi>520</span><span class=p>)</span>    <span class=c1>#使用序列创建字典</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>    <span class=c1>#{&#39;p&#39;: 520, &#39;y&#39;: 520, &#39;t&#39;: 520, &#39;h&#39;: 520, &#39;o&#39;: 520, &#39;n&#39;: 520}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.pop(k[,d])   remove specified key and return the corresponding value</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&#34;k2&#34;</span><span class=p>))</span>  <span class=c1>#2</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k3&#39;: 3}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&#34;k4&#34;</span><span class=p>))</span> 
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>KeyError</span><span class=p>:</span> <span class=s1>&#39;k4&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&#34;k4&#34;</span><span class=p>,</span> <span class=s2>&#34;not found&#34;</span><span class=p>))</span> <span class=c1>#not found</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.popitem()    Pairs are returned in LIFO (last-in, first-out) order Raises KeyError if the dict is empty</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>popitem</span><span class=p>())</span>  <span class=c1>#(&#39;k3&#39;, 3)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=p>[</span><span class=s2>&#34;k4&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>popitem</span><span class=p>())</span>  <span class=c1>#(&#39;k4&#39;, 4)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.update() 批量更新dict</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=o>.</span><span class=n>update</span><span class=p>({</span><span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>33</span><span class=p>,</span> <span class=s2>&#34;k4&#34;</span><span class=p>:</span> <span class=mi>44</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k2&#39;: 2, &#39;k3&#39;: 33, &#39;k4&#39;: 44}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.get(key, default=None)</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;k1&#34;</span><span class=p>))</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;k4&#34;</span><span class=p>))</span>  <span class=c1>#None</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&#34;k4&#34;</span><span class=p>,</span> <span class=s2>&#34;not found&#34;</span><span class=p>))</span> <span class=c1>#not found</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.setdefault(key, default=None)    如果key不在dict中则设置值，并返回该key的value</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=s2>&#34;k2&#34;</span><span class=p>))</span>   <span class=c1>#2</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=s2>&#34;k4&#34;</span><span class=p>,</span> <span class=mi>4</span><span class=p>))</span>    <span class=c1>#4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>    <span class=c1>#{&#39;k1&#39;: 1, &#39;k2&#39;: 2, &#39;k3&#39;: 3, &#39;k4&#39;: 4}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.items()</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>items</span> <span class=o>=</span> <span class=n>dict1</span><span class=o>.</span><span class=n>items</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>items</span><span class=p>)</span> <span class=c1>#dict_items([(&#39;k1&#39;, 1), (&#39;k2&#39;, 2), (&#39;k3&#39;, 3)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=p>[</span><span class=s2>&#34;k4&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>items</span><span class=p>)</span>    <span class=c1>#dict_items([(&#39;k1&#39;, 1), (&#39;k2&#39;, 2), (&#39;k3&#39;, 3), (&#39;k4&#39;, 4)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict1.keys()</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>keys</span> <span class=o>=</span> <span class=n>dict1</span><span class=o>.</span><span class=n>keys</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span> <span class=c1>#dict_keys([&#39;k1&#39;, &#39;k2&#39;, &#39;k3&#39;])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=p>[</span><span class=s2>&#34;k4&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>keys</span><span class=p>)</span> <span class=c1>#dict_keys([&#39;k1&#39;, &#39;k2&#39;, &#39;k3&#39;, &#39;k4&#39;])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#dict.values()</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>values</span> <span class=o>=</span> <span class=n>dict1</span><span class=o>.</span><span class=n>values</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>values</span><span class=p>)</span>   <span class=c1>#dict_values([1, 2, 3])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>dict1</span><span class=p>[</span><span class=s2>&#34;k4&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>values</span><span class=p>)</span>   <span class=c1>#dict_values([1, 2, 3, 4])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#key1 in dict1</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k1&#34;</span> <span class=ow>in</span> <span class=n>dict1</span>   <span class=c1>#True</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k4&#34;</span> <span class=ow>in</span> <span class=n>dict1</span>   <span class=c1>#False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#key1 not in dict1</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k1&#34;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dict1</span>   <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;k4&#34;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>dict1</span>   <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list(dict1)</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nb>list</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span> <span class=c1>#[&#39;k1&#39;, &#39;k2&#39;, &#39;k3&#39;]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#iter(dict1)</span>
</span></span><span class=line><span class=cl><span class=n>dict1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;k1&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;k2&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;k3&#34;</span><span class=p>:</span> <span class=mi>3</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=nb>iter</span><span class=p>(</span><span class=n>dict1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=c1>#&#39;k1&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=c1>#&#39;k2&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=c1>#&#39;k3&#39;</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>StopIteration</span>
</span></span></code></pre></div><h3 id=set集合>set集合<a hidden class=anchor aria-hidden=true href=#set集合>#</a></h3><p>集合中所有元素应该是不重复的，而且是无序的</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>set1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span> <span class=s2>&#34;c&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>set1</span> <span class=o>=</span> <span class=p>{</span><span class=n>s</span> <span class=k>for</span> <span class=n>s</span> <span class=ow>in</span> <span class=s2>&#34;abc&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>set1</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>set1</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=c1>#集合不可索引</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=s1>&#39;set&#39;</span> <span class=nb>object</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>subscriptable</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.copy()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.isdisjoint(set2) #判断两个集合是否毫不相干</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.issubset(set2)   &lt;=  #检测一个集合是不是另一个集合的子集</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.issuperset()  &gt;= #检测一个集合是不是另一个集合的超集</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.union(set2) | </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.intersection(set1) &amp; 集合交集</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#set1.difference(set2) - 差集</span>
</span></span></code></pre></div><p>可变集合(set) & 不可变集合(frozenset)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>set1</span> <span class=o>=</span> <span class=p>{</span><span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span> <span class=s2>&#34;c&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>set1</span><span class=o>.</span><span class=n>update</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>],</span> <span class=s2>&#34;23&#34;</span><span class=p>)</span>    <span class=c1>#以可迭代的方式处理参数</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>set1</span><span class=p>)</span> <span class=c1>#{1, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;3&#39;, &#39;2&#39;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>set1</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&#34;23&#34;</span><span class=p>)</span>  <span class=c1>#添加单个元素到set</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>set1</span><span class=p>)</span> <span class=c1>#{1, &#39;23&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;3&#39;, &#39;2&#39;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=n>set1</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>  <span class=c1>#Remove and return an arbitrary set element. Raises KeyError if the set is empty</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>p</span><span class=p>)</span>    <span class=c1>#1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>set1</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>set1</span><span class=p>)</span> <span class=c1>#set()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fs</span> <span class=o>=</span> <span class=nb>frozenset</span><span class=p>({</span><span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;b&#34;</span><span class=p>,</span> <span class=s2>&#34;c&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=n>fs</span><span class=o>.</span><span class=n>update</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;frozenset&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;update&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fs</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;frozenset&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;add&#39;</span>
</span></span></code></pre></div><h3 id=时间>时间<a hidden class=anchor aria-hidden=true href=#时间>#</a></h3><p>时间戳都以自从1970年1月1日午夜经过了多长秒来表示</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#时间戳</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>t1</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>t1</span><span class=p>)</span>   <span class=c1>#1665641987.3554833 秒的浮点数</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#本地时间</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=n>localtime</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>localtime</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>localtime</span><span class=p>)</span>   <span class=c1>#time.struct_time(tm_year=2022, tm_mon=10, tm_mday=13, tm_hour=6, tm_min=22, tm_sec=58, tm_wday=3, tm_yday=286, tm_isdst=0) </span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>localtime</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>localtime</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>localtime</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#可读时间</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=n>localtime</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>asctime</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>localtime</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>localtime</span><span class=p>)</span>    <span class=c1>#Thu Oct 13 06:25:30 2022</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#格式化</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>time_str</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&#34;%Y-%m-</span><span class=si>%d</span><span class=s2> %H:%M:%S&#34;</span><span class=p>,</span> <span class=n>time</span><span class=o>.</span><span class=n>localtime</span><span class=p>())</span> 
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>time_str</span><span class=p>)</span> <span class=c1>#2022-10-13 06:27:39</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>time_str</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&#34;%Y-%m-</span><span class=si>%d</span><span class=s2> %H:%M:%S&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>time_str</span><span class=p>)</span> <span class=c1>#2022-10-13 06:28:04</span>
</span></span></code></pre></div><h2 id=异常>异常<a hidden class=anchor aria-hidden=true href=#异常>#</a></h2><h3 id=处理异常>处理异常<a hidden class=anchor aria-hidden=true href=#处理异常>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>python3</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=n>num</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>num</span> <span class=o>/</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>ZeroDivisionError</span><span class=p>:</span> <span class=n>division</span> <span class=n>by</span> <span class=n>zero</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>except</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;出错&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>出错</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>ZeroDivisionError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;除数不能为0&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>除数不能为0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>ZeroDivisionError</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>e</span><span class=p>)</span>  
</span></span><span class=line><span class=cl><span class=n>division</span> <span class=n>by</span> <span class=n>zero</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=p>(</span><span class=ne>ZeroDivisionError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;出错啦&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>出错啦</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=p>(</span><span class=ne>ZeroDivisionError</span><span class=p>,</span> <span class=ne>ValueError</span><span class=p>,</span> <span class=ne>TypeError</span><span class=p>)</span> <span class=k>as</span> <span class=n>err</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;出错啦&#34;</span><span class=p>,</span> <span class=n>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>出错啦</span> <span class=n>division</span> <span class=n>by</span> <span class=n>zero</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=mi>1</span><span class=o>/</span><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>ZeroDivisionError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ZeroDivisionError&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>ValueError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ValueError&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>except</span> <span class=ne>TypeError</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;TypeError&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=ne>ZeroDivisionError</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>arg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>int</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>err</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;出错啦&#34;</span><span class=p>,</span> <span class=n>err</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;没有任何问题&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>finally</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;finally语句&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>出错啦</span> <span class=n>invalid</span> <span class=n>literal</span> <span class=k>for</span> <span class=nb>int</span><span class=p>()</span> <span class=k>with</span> <span class=n>base</span> <span class=mi>10</span><span class=p>:</span> <span class=s1>&#39;abc&#39;</span>
</span></span><span class=line><span class=cl><span class=n>finally语句</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=s2>&#34;123&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>没有任何问题</span>
</span></span><span class=line><span class=cl><span class=n>finally语句</span>
</span></span></code></pre></div><h3 id=抛出异常>抛出异常<a hidden class=anchor aria-hidden=true href=#抛出异常>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>level</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>level</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>elif</span> <span class=n>level</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&#34;invalid level&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>7</span><span class=p>,</span> <span class=ow>in</span> <span class=n>myfunc</span>
</span></span><span class=line><span class=cl><span class=ne>Exception</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>level</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>arg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>int</span><span class=p>(</span><span class=n>arg</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=ne>ValueError</span> <span class=k>as</span> <span class=n>err</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>Exception</span><span class=p>(</span><span class=s2>&#34;出错啦&#34;</span><span class=p>)</span> <span class=kn>from</span> <span class=nn>err</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=s2>&#34;123&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>3</span><span class=p>,</span> <span class=ow>in</span> <span class=n>myfunc</span>
</span></span><span class=line><span class=cl><span class=ne>ValueError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>literal</span> <span class=k>for</span> <span class=nb>int</span><span class=p>()</span> <span class=k>with</span> <span class=n>base</span> <span class=mi>10</span><span class=p>:</span> <span class=s1>&#39;abc&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>The</span> <span class=n>above</span> <span class=n>exception</span> <span class=n>was</span> <span class=n>the</span> <span class=n>direct</span> <span class=n>cause</span> <span class=n>of</span> <span class=n>the</span> <span class=n>following</span> <span class=n>exception</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>5</span><span class=p>,</span> <span class=ow>in</span> <span class=n>myfunc</span>
</span></span><span class=line><span class=cl><span class=ne>Exception</span><span class=p>:</span> <span class=n>出错啦</span>
</span></span></code></pre></div><h2 id=函数>函数<a hidden class=anchor aria-hidden=true href=#函数>#</a></h2><h3 id=函数定义>函数定义<a hidden class=anchor aria-hidden=true href=#函数定义>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#定义</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>functionname</span><span class=p>(</span> <span class=n>parameters</span> <span class=p>):</span>
</span></span><span class=line><span class=cl>   <span class=s2>&#34;函数_文档字符串&#34;</span>
</span></span><span class=line><span class=cl>   <span class=n>function_suite</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=p>[</span><span class=n>expression</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>printtime</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;打印本地时间&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>time</span><span class=o>.</span><span class=n>localtime</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>printtime</span><span class=p>()</span> <span class=c1>#time.struct_time(tm_year=2022, tm_mon=10, tm_mday=13, tm_hour=7, tm_min=11, tm_sec=50, tm_wday=3, tm_yday=286, tm_isdst=0)</span>
</span></span></code></pre></div><p>可变对象和不可变对象</p><p>在python中数值类型、字符串类型、元组类型是不可变的(可hash)</p><p>列表、字典、对象是可变的(不可hash)</p><p>在python中变量都是指向实际类型的指针</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>change_number</span><span class=p>(</span><span class=n>num</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>num</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>num</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>change_number</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>change_list</span><span class=p>(</span><span class=n>l</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>l</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>l1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>change_list</span><span class=p>(</span><span class=n>l1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>l1</span><span class=p>)</span>   <span class=c1>#[1, 2, 3, &#39;a&#39;]</span>
</span></span></code></pre></div><p>在change_number函数中num是指向数值类型的指针，由于数值类型是不可变类型，在函数内对该值进行修改会生成一个新的数值类型，然后num指向它</p><p>在change_list函数中l变量和调用函数是的l1变量都指向同一个列表，由于列表是可变对象，所以会在该对象上追加元素，并不会生成新的对象，所以函数内的修改函数外也能看见</p><h3 id=函数参数>函数参数<a hidden class=anchor aria-hidden=true href=#函数参数>#</a></h3><p>位置参数,函数调用时参数的个数必须和定义的个数相同</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>welcome_str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>welcome_str</span><span class=si>}</span><span class=s2>,</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=s2>&#34;hello&#34;</span><span class=p>)</span> <span class=c1>#hello,python!</span>
</span></span></code></pre></div><p>关键字参数,使用关键字参数后可以不按函数定义的参数位置给各个参数传值,但是位置参数之前不能有关键字参数，关键字参数必须完全放在位置参数之后</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>welcome_str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>welcome_str</span><span class=si>}</span><span class=s2>,</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=s2>&#34;hello&#34;</span><span class=p>)</span>   <span class=c1>#SyntaxError: positional argument follows keyword argument</span>
</span></span></code></pre></div><p>在使用help()查看函数的帮助文档时，许多内置函数如sum()在函数的定义中都有<code>/</code> 意味着/左侧的参数只能是位置参数 <code>/</code>右侧的参数可以是关键字参数</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>help</span><span class=p>(</span><span class=nb>sum</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>sum</span><span class=p>(</span><span class=n>iterable</span><span class=p>,</span> <span class=o>/</span><span class=p>,</span> <span class=n>start</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>Return</span> <span class=n>the</span> <span class=nb>sum</span> <span class=n>of</span> <span class=n>a</span> <span class=s1>&#39;start&#39;</span> <span class=n>value</span> <span class=p>(</span><span class=n>default</span><span class=p>:</span> <span class=mi>0</span><span class=p>)</span> <span class=n>plus</span> <span class=n>an</span> <span class=n>iterable</span> <span class=n>of</span> <span class=n>numbers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>sum</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>    <span class=c1>#6</span>
</span></span><span class=line><span class=cl><span class=nb>sum</span><span class=p>(</span><span class=n>iterable</span><span class=o>=</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=nb>sum</span><span class=p>()</span> <span class=n>takes</span> <span class=n>at</span> <span class=n>least</span> <span class=mi>1</span> <span class=n>positional</span> <span class=n>argument</span> <span class=p>(</span><span class=mi>0</span> <span class=n>given</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>sum</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span> <span class=mi>6</span><span class=p>)</span> <span class=c1>#12</span>
</span></span><span class=line><span class=cl><span class=nb>sum</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>],</span> <span class=n>start</span><span class=o>=</span><span class=mi>6</span><span class=p>)</span>   <span class=c1>#12</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=o>/</span><span class=p>,</span> <span class=n>welcome_str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>welcome_str</span><span class=si>}</span><span class=s2>,</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=s2>&#34;hello&#34;</span><span class=p>)</span>    <span class=c1>#hello,python!</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>    <span class=c1>#hello,python!</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=n>greet</span><span class=p>()</span> <span class=n>got</span> <span class=n>some</span> <span class=n>positional</span><span class=o>-</span><span class=n>only</span> <span class=n>arguments</span> <span class=n>passed</span> <span class=k>as</span> <span class=n>keyword</span> <span class=n>arguments</span><span class=p>:</span> <span class=s1>&#39;name&#39;</span>
</span></span></code></pre></div><p>函数参数列表中出现<code>*</code>号参数表示左侧参数即可以是位置参数/关键字参数，右侧必须是关键字参数</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>welcome_str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>welcome_str</span><span class=si>}</span><span class=s2>,</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>,</span> <span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=n>greet</span><span class=p>()</span> <span class=n>takes</span> <span class=mi>1</span> <span class=n>positional</span> <span class=n>argument</span> <span class=n>but</span> <span class=mi>2</span> <span class=n>were</span> <span class=n>given</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>    <span class=c1>#python,hello!</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>   <span class=c1>#python,hello!</span>
</span></span></code></pre></div><p>默认参数</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>name</span><span class=p>,</span> <span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>welcome_str</span><span class=si>}</span><span class=s2>,</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span> <span class=c1>#hello,python!</span>
</span></span><span class=line><span class=cl><span class=n>greet</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>,</span> <span class=s2>&#34;Hello&#34;</span><span class=p>)</span>    <span class=c1>#Hello,python!</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#函数定义时非默认参数必须在默认参数之前</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>greet</span><span class=p>(</span><span class=n>welcome_str</span><span class=o>=</span><span class=s2>&#34;hello&#34;</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>   <span class=c1>#SyntaxError: non-default argument follows default argument</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>welcome_str</span><span class=si>}</span><span class=s2>,</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>!&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>特殊参数
*var 会把传递的参数收集成元组</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=n>c</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span> <span class=c1>#1 2 ()</span>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>)</span>   <span class=c1>#1 2 (3, 4, 5)</span>
</span></span></code></pre></div><p>**var 会把参数收集成字典,多余的参数必须以关键字参数提供</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>**</span><span class=n>c</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span> <span class=c1>#1 2 {}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=n>myfunc</span><span class=p>()</span> <span class=n>takes</span> <span class=mi>2</span> <span class=n>positional</span> <span class=n>arguments</span> <span class=n>but</span> <span class=mi>3</span> <span class=n>were</span> <span class=n>given</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=n>k1</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span><span class=n>k2</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span><span class=n>k3</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>  <span class=c1>#1 2 {&#39;k1&#39;: 3, &#39;k2&#39;: 4, &#39;k3&#39;: 5}</span>
</span></span></code></pre></div><p>return语句</p><p>函数可以使用return语句返回一个返回值，如果只写return或者函数没有return那么会返回None</p><p>函数返回多个参数和多个形参接收函数的多个返回值</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span>    <span class=c1>#自动打包为一个元组返回</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>res</span> <span class=o>=</span> <span class=n>myfunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>res</span><span class=p>)</span>  <span class=c1>#(1, 2, 3)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=n>myfunc</span><span class=p>()</span>  <span class=c1>#自动解包</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>  <span class=c1>#1 2 3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>myfunc</span><span class=p>()</span> <span class=c1>#解包失败，解包对应的元素个数必须要和元组中元素个数对应</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>ValueError</span><span class=p>:</span> <span class=n>too</span> <span class=n>many</span> <span class=n>values</span> <span class=n>to</span> <span class=n>unpack</span> <span class=p>(</span><span class=n>expected</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=n>myfunc</span><span class=p>()</span>  <span class=c1>#列表也可以解包</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>  <span class=c1>#1 2 3</span>
</span></span></code></pre></div><h3 id=变量作用域>变量作用域<a hidden class=anchor aria-hidden=true href=#变量作用域>#</a></h3><p>python找一个变量的过程为LEGB, Local -> Enclosed(嵌套函数的外层作用域) -> Global -> Build-In</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>num1</span><span class=p>,</span> <span class=n>num2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1>#函数中访问的都是局部的变量</span>
</span></span><span class=line><span class=cl>    <span class=n>total</span> <span class=o>=</span> <span class=n>num1</span><span class=o>+</span><span class=n>num2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>total</span><span class=p>)</span>    <span class=c1>#0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>total</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>num1</span><span class=p>,</span> <span class=n>num2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=c1>#使用global申明变量为全局变量</span>
</span></span><span class=line><span class=cl>    <span class=k>global</span> <span class=n>total</span>
</span></span><span class=line><span class=cl>    <span class=n>total</span> <span class=o>=</span> <span class=n>num1</span><span class=o>+</span><span class=n>num2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>total</span><span class=p>)</span> <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>myfunc2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>b</span> <span class=o>=</span> <span class=mi>20</span>
</span></span><span class=line><span class=cl>        <span class=c1>#内层函数如果找不到变量，会一直往上找</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;total=</span><span class=si>{</span><span class=n>total</span><span class=si>}</span><span class=s2> a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2> b=</span><span class=si>{</span><span class=n>b</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>myfunc2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>func2</span> <span class=o>=</span> <span class=n>myfunc1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>func2</span><span class=p>()</span> <span class=c1>#total=3 a=1 b=20</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>myfunc2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=c1>#内层函数不能修改外层函数的值，除非用nonlocal申明</span>
</span></span><span class=line><span class=cl>        <span class=k>nonlocal</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>    <span class=n>myfunc2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc1</span><span class=p>()</span>   <span class=c1>#10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#nolocal若有多层嵌套也只修改找到的第一个上一层</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>myfunc2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>myfunc3</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>            <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;in func3 a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>myfunc3</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;in func2 a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>myfunc2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;in func1 a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#in func3 a=10</span>
</span></span><span class=line><span class=cl><span class=c1>#in func2 a=10</span>
</span></span><span class=line><span class=cl><span class=c1>#in func1 a=1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>myfunc2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>myfunc3</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=k>nonlocal</span> <span class=n>a</span>
</span></span><span class=line><span class=cl>            <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;in func3 a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>myfunc3</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>myfunc2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;in func1 a=</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#in func3 a=10</span>
</span></span><span class=line><span class=cl><span class=c1>#in func1 a=10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfilter</span><span class=p>(</span><span class=n>iterable</span><span class=p>,</span> <span class=n>check_func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>ret</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>iterable</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>check_func</span><span class=p>(</span><span class=n>item</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=n>ret</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ret</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>odd_func</span><span class=p>(</span><span class=n>item</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>item</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfilter</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>],</span> <span class=n>odd_func</span><span class=p>)</span>   <span class=c1>#[2, 4]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfilter</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>),</span> <span class=n>odd_func</span><span class=p>)</span>    <span class=c1>#[0, 2, 4, 6, 8]</span>
</span></span></code></pre></div><h3 id=闭包>闭包<a hidden class=anchor aria-hidden=true href=#闭包>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>exp</span><span class=p>(</span><span class=n>n1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>base</span><span class=p>(</span><span class=n>n2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>n2</span> <span class=o>**</span> <span class=n>n1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>base</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>square</span> <span class=o>=</span> <span class=n>exp</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>square</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>   <span class=c1>#4</span>
</span></span><span class=line><span class=cl><span class=n>square</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>   <span class=c1>#9</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cube</span> <span class=o>=</span> <span class=n>exp</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>cube</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=c1>#8</span>
</span></span><span class=line><span class=cl><span class=n>cube</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=c1>#27</span>
</span></span></code></pre></div><h3 id=装饰器>装饰器<a hidden class=anchor aria-hidden=true href=#装饰器>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>time_recorder</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>call_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;共耗费 </span><span class=si>{</span><span class=n>end</span><span class=o>-</span><span class=n>start</span><span class=si>}</span><span class=s2> 秒&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>call_func</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@time_recorder</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello, python!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>hello</span><span class=p>,</span> <span class=n>python</span><span class=err>!</span>
</span></span><span class=line><span class=cl><span class=n>共耗费</span> <span class=mf>1.0047268867492676</span> <span class=n>秒</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>等效于</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>time_recorder</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>call_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;共耗费 </span><span class=si>{</span><span class=n>end</span><span class=o>-</span><span class=n>start</span><span class=si>}</span><span class=s2> 秒&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>call_func</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello, python!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span> <span class=o>=</span> <span class=n>time_recorder</span><span class=p>(</span><span class=n>myfunc</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>hello</span><span class=p>,</span> <span class=n>python</span><span class=err>!</span>
</span></span><span class=line><span class=cl><span class=n>共耗费</span> <span class=mf>1.0110423564910889</span> <span class=n>秒</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;add&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>inner</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=o>=</span> <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>inner</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>cube</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;cube&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>inner</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=o>=</span> <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>inner</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>square</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;square&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>inner</span><span class=p>():</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=o>=</span> <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>x</span> <span class=o>**</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>inner</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@add</span>
</span></span><span class=line><span class=cl><span class=nd>@cube</span>
</span></span><span class=line><span class=cl><span class=nd>@square</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>myfunc</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=n>square</span>
</span></span><span class=line><span class=cl><span class=n>cube</span>
</span></span><span class=line><span class=cl><span class=n>add</span>
</span></span><span class=line><span class=cl><span class=mi>65</span>
</span></span><span class=line><span class=cl><span class=n>装饰器的执行是自底向上的</span>
</span></span><span class=line><span class=cl><span class=p>((</span><span class=mi>2</span> <span class=o>**</span> <span class=mi>2</span><span class=p>)</span> <span class=o>**</span> <span class=mi>3</span><span class=p>)</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>=</span> <span class=mi>65</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>给装饰器传递参数</span><span class=err>：</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logger</span><span class=p>(</span><span class=n>msg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>time_recorder</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>call_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>msg</span><span class=si>}</span><span class=s2> 共耗费 </span><span class=si>{</span><span class=n>end</span><span class=o>-</span><span class=n>start</span><span class=si>}</span><span class=s2> 秒&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>call_func</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>time_recorder</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@logger</span><span class=p>(</span><span class=s2>&#34;A&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello, python!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>hello</span><span class=p>,</span> <span class=n>python</span><span class=err>!</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>共耗费</span> <span class=mf>1.0017378330230713</span> <span class=n>秒</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>等效于</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logger</span><span class=p>(</span><span class=n>msg</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>time_recorder</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>call_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>msg</span><span class=si>}</span><span class=s2> 共耗费 </span><span class=si>{</span><span class=n>end</span><span class=o>-</span><span class=n>start</span><span class=si>}</span><span class=s2> 秒&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>call_func</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>time_recorder</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello, python!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span> <span class=o>=</span> <span class=n>logger</span><span class=p>(</span><span class=s2>&#34;A&#34;</span><span class=p>)(</span><span class=n>myfunc</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>多个参数</span><span class=err>：</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>logger</span><span class=p>(</span><span class=n>msg1</span><span class=p>,</span> <span class=n>msg2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>time_recorder</span><span class=p>(</span><span class=n>func</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>def</span> <span class=nf>call_func</span><span class=p>():</span>
</span></span><span class=line><span class=cl>            <span class=n>start</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>func</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=n>end</span> <span class=o>=</span> <span class=n>time</span><span class=o>.</span><span class=n>time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>msg1</span><span class=si>}</span><span class=s2> </span><span class=si>{</span><span class=n>msg2</span><span class=si>}</span><span class=s2> 共耗费 </span><span class=si>{</span><span class=n>end</span><span class=o>-</span><span class=n>start</span><span class=si>}</span><span class=s2> 秒&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>call_func</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>time_recorder</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@logger</span><span class=p>(</span><span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=s2>&#34;B&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;hello, python!&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>hello</span><span class=p>,</span> <span class=n>python</span><span class=err>!</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>B</span> <span class=n>共耗费</span> <span class=mf>1.002345085144043</span> <span class=n>秒</span>
</span></span></code></pre></div><h3 id=lambda>lambda<a hidden class=anchor aria-hidden=true href=#lambda>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>square</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>*</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=n>square</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>   <span class=c1>#4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>add</span> <span class=o>=</span> <span class=k>lambda</span> <span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>:</span> <span class=n>x</span><span class=o>+</span><span class=n>y</span>
</span></span><span class=line><span class=cl><span class=n>add</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>   <span class=c1>#3</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>mapped</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span><span class=nb>ord</span><span class=p>(</span><span class=n>x</span><span class=p>)</span><span class=o>+</span><span class=mi>10</span><span class=p>,</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>mapped</span><span class=p>))</span> <span class=c1>#[122, 131, 126, 114, 121, 120]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>filtered</span> <span class=o>=</span> <span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span><span class=n>x</span><span class=o>%</span><span class=mi>2</span><span class=o>==</span><span class=mi>0</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>filtered</span><span class=p>))</span>   <span class=c1>#[0, 2, 4, 6, 8]</span>
</span></span></code></pre></div><h3 id=生成器>生成器<a hidden class=anchor aria-hidden=true href=#生成器>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>counter</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>num</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>num</span> <span class=o>&lt;=</span> <span class=mi>5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>yield</span> <span class=n>num</span>
</span></span><span class=line><span class=cl>        <span class=n>num</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>counter</span><span class=p>())</span>    <span class=c1>#&lt;generator object counter at 0x7fb6db7075f0&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>生成器是一种迭代器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=n>counter</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=c1>#2</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=c1>#3</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=c1>#4</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>c</span><span class=p>)</span> <span class=c1>#5</span>
</span></span><span class=line><span class=cl><span class=nb>next</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>StopIteration</span>
</span></span></code></pre></div><p>生成器表达式</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>c</span> <span class=o>=</span> <span class=p>(</span><span class=n>num</span> <span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span> <span class=k>if</span> <span class=n>num</span><span class=o>%</span><span class=mi>2</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>    <span class=c1>#&lt;generator object &lt;genexpr&gt; at 0x7fb6db707a50&gt;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>num</span> <span class=ow>in</span> <span class=n>c</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>num</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>
</span></span><span class=line><span class=cl><span class=mi>8</span>    
</span></span></code></pre></div><h3 id=递归>递归<a hidden class=anchor aria-hidden=true href=#递归>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>fact</span><span class=p>(</span><span class=n>num</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>num</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>num</span> <span class=o>*</span> <span class=n>fact</span><span class=p>(</span><span class=n>num</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fact</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=c1>#6</span>
</span></span><span class=line><span class=cl><span class=n>fact</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span> <span class=c1>#720</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>fact</span><span class=p>(</span><span class=n>num</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=nb>sum</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>num</span><span class=o>+</span><span class=mi>1</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>sum</span> <span class=o>*=</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>sum</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fact</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=c1>#6</span>
</span></span><span class=line><span class=cl><span class=n>fact</span><span class=p>(</span><span class=mi>6</span><span class=p>)</span> <span class=c1>#720</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>fib</span><span class=p>(</span><span class=n>n</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>1</span> <span class=ow>or</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>fib</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fib</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=n>fib</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>  <span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=n>fib</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span>  <span class=c1>#2</span>
</span></span><span class=line><span class=cl><span class=n>fib</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>  <span class=c1>#5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>hannota</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2> ===&gt; </span><span class=si>{</span><span class=n>c</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span>
</span></span><span class=line><span class=cl>    <span class=n>hannota</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>a</span><span class=si>}</span><span class=s2> ===&gt; </span><span class=si>{</span><span class=n>c</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>hannota</span><span class=p>(</span><span class=n>n</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hannota</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=s2>&#34;B&#34;</span><span class=p>,</span> <span class=s2>&#34;C&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>hannota</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=s2>&#34;B&#34;</span><span class=p>,</span> <span class=s2>&#34;C&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=o>===&gt;</span> <span class=n>A</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=o>===&gt;</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>===&gt;</span> <span class=n>A</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=o>===&gt;</span> <span class=n>A</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=o>===&gt;</span> <span class=n>C</span>
</span></span></code></pre></div><h3 id=函数文档>函数文档<a hidden class=anchor aria-hidden=true href=#函数文档>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>exchange</span><span class=p>(</span><span class=n>dollar</span><span class=p>,</span> <span class=n>rate</span><span class=o>=</span><span class=mf>6.3</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    功能：汇率转换，美元 -&gt; 人民币
</span></span></span><span class=line><span class=cl><span class=s2>    - dollar 美元
</span></span></span><span class=line><span class=cl><span class=s2>    - rate 汇率
</span></span></span><span class=line><span class=cl><span class=s2>    return:
</span></span></span><span class=line><span class=cl><span class=s2>    - 人民币数量
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>dollar</span> <span class=o>*</span> <span class=n>rate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>help</span><span class=p>(</span><span class=n>exchange</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Help</span> <span class=n>on</span> <span class=n>function</span> <span class=n>exchange</span> <span class=ow>in</span> <span class=n>module</span> <span class=n>__main__</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>exchange</span><span class=p>(</span><span class=n>dollar</span><span class=p>,</span> <span class=n>rate</span><span class=o>=</span><span class=mf>6.3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>功能</span><span class=err>：</span><span class=n>汇率转换</span><span class=err>，</span><span class=n>美元</span> <span class=o>-&gt;</span> <span class=n>人民币</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span> <span class=n>dollar</span> <span class=n>美元</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span> <span class=n>rate</span> <span class=n>汇率</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=o>-</span> <span class=n>人民币数量</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>exchange</span><span class=p>(</span><span class=mi>2</span><span class=p>))</span>  <span class=c1>#12.6</span>
</span></span></code></pre></div><p>类型注释可以帮助函数调用者知道应该传递参数的类型</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>exchange</span><span class=p>(</span><span class=n>dollar</span><span class=p>:</span><span class=nb>float</span><span class=p>,</span> <span class=n>rate</span><span class=p>:</span><span class=nb>float</span><span class=o>=</span><span class=mf>6.3</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    功能：汇率转换，美元 -&gt; 人民币
</span></span></span><span class=line><span class=cl><span class=s2>    - dollar 美元
</span></span></span><span class=line><span class=cl><span class=s2>    - rate 汇率
</span></span></span><span class=line><span class=cl><span class=s2>    return:
</span></span></span><span class=line><span class=cl><span class=s2>    - 人民币数量
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>dollar</span> <span class=o>*</span> <span class=n>rate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>l</span><span class=p>:</span><span class=nb>list</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>l</span><span class=p>:</span><span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>d</span><span class=p>:</span><span class=nb>dict</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>d</span><span class=p>:</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span></code></pre></div><p>通过内省查看函数信息</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>d</span><span class=p>:</span><span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    测试类型注释
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=o>.</span><span class=vm>__name__</span> <span class=c1>#&#39;myfunc&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=o>.</span><span class=vm>__annotations__</span>  <span class=c1>#{&#39;d&#39;: dict[str, int], &#39;return&#39;: dict[str, int]}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myfunc</span><span class=o>.</span><span class=vm>__doc__</span>  <span class=c1>#&#39;\n    测试类型注释\n    &#39;</span>
</span></span></code></pre></div><h3 id=高阶函数>高阶函数<a hidden class=anchor aria-hidden=true href=#高阶函数>#</a></h3><p>当函数接收一个函数作为参数时，那么该函数就被称为高阶函数</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>functools</span>    <span class=c1>#functools库包含的都是高阶函数</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>functools</span><span class=o>.</span><span class=n>reduce</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>:</span> <span class=n>x</span><span class=o>+</span><span class=n>y</span><span class=p>,</span> <span class=nb>range</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>6</span><span class=p>))</span>  <span class=c1>#15</span>
</span></span></code></pre></div><h3 id=内置函数>内置函数<a hidden class=anchor aria-hidden=true href=#内置函数>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#help(func_ref) 查看函数文档</span>
</span></span><span class=line><span class=cl><span class=n>help</span><span class=p>(</span><span class=nb>print</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>str1</span><span class=o>=</span><span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl><span class=n>help</span><span class=p>(</span><span class=n>str1</span><span class=o>.</span><span class=n>split</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#str()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#list()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#tuple()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#map()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#all()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#any()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#zip()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#enumerate()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#max</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#min()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#filter()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#pow()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#ord()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#iter()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#next()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#type()</span>
</span></span></code></pre></div><h2 id=类和对象>类和对象<a hidden class=anchor aria-hidden=true href=#类和对象>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Circle</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>PI</span> <span class=o>=</span> <span class=mf>3.14</span>   <span class=c1>#类变量</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>r</span><span class=p>):</span>  <span class=c1>#构造函数</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>r</span> <span class=c1>#实例变量</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span> <span class=c1>#类中定义的方法必须要接受一个self参数，该参数就是类的实例</span>
</span></span><span class=line><span class=cl>        <span class=n>ret</span> <span class=o>=</span> <span class=n>Circle</span><span class=o>.</span><span class=n>PI</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>**</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=o>.</span><span class=n>area</span><span class=p>()</span>   <span class=c1>#3.14</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#{&#39;radius&#39;: 1}</span>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=o>.</span><span class=n>PI</span>   <span class=c1>#1  这里能访问的原因是类定义了PI类属性，如果实例的属性列表中找不到会去类的属性列表中找</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c2</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>c2</span><span class=o>.</span><span class=n>radius</span>   <span class=c1>#2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=o>.</span><span class=n>PI</span> <span class=o>=</span> <span class=mi>3</span>   <span class=c1>#这种方式并不能修改到类属性PI，而只是给实例对象加上了PI属性</span>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#{&#39;radius&#39;: 1, &#39;PI&#39;: 3} __dict__中保存了实例的属性列表</span>
</span></span><span class=line><span class=cl><span class=n>c2</span><span class=o>.</span><span class=n>area</span><span class=p>()</span>   <span class=c1>#12.56</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Circle</span><span class=o>.</span><span class=n>PI</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>c2</span><span class=o>.</span><span class=n>area</span><span class=p>()</span>   <span class=c1>#12</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;A x=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>hello</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;B x=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>x</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b1</span> <span class=o>=</span> <span class=n>B</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>b1</span><span class=o>.</span><span class=n>hello</span><span class=p>()</span>  <span class=c1>#B x=2</span>
</span></span></code></pre></div><p>钻石继承</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;A init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B1</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>A</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B1 init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B2</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>A</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B2 init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>B1</span><span class=p>,</span> <span class=n>B2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>B1</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>B2</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;C init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>C</span><span class=p>()</span>    <span class=c1>#A被初始化了两次,这种现象被称为钻石继承</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>B1</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>B2</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=n>init</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;A init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B1</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>  <span class=c1>#执行的是B2</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B1 init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B2</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>  <span class=c1>#执行的是A</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B2 init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>B1</span><span class=p>,</span> <span class=n>B2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>  <span class=c1>#执行的是B1</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;C init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>C</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>B2</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>B1</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=n>init</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>C</span><span class=o>.</span><span class=n>mro</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=n>C</span><span class=s1>&#39;&gt;, &lt;class &#39;</span><span class=n>__main__</span><span class=o>.</span><span class=n>B1</span><span class=s1>&#39;&gt;, &lt;class &#39;</span><span class=n>__main__</span><span class=o>.</span><span class=n>B2</span><span class=s1>&#39;&gt;, &lt;class &#39;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span><span class=s1>&#39;&gt;, &lt;class &#39;</span><span class=nb>object</span><span class=s1>&#39;&gt;]</span>
</span></span></code></pre></div><h3 id=类mro>类mro<a hidden class=anchor aria-hidden=true href=#类mro>#</a></h3><p><a href=https://zhuanlan.zhihu.com/p/356720970>https://zhuanlan.zhihu.com/p/356720970</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;A init&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B1</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>  <span class=c1>#执行的是B2</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B1 init&#34;</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B2</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>  <span class=c1>#执行的是A</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B2 init&#34;</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>B1</span><span class=p>,</span> <span class=n>B2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span> <span class=o>=</span> <span class=nb>super</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=n>c</span><span class=o>.</span><span class=fm>__init__</span><span class=p>()</span>  <span class=c1>#执行的是B1</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;C init&#34;</span><span class=p>,</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>C</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>init</span>
</span></span><span class=line><span class=cl><span class=n>B2</span> <span class=n>init</span> <span class=o>&lt;</span><span class=nb>super</span><span class=p>:</span> <span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>B2</span><span class=s1>&#39;&gt;, &lt;C object&gt;&gt;</span>
</span></span><span class=line><span class=cl><span class=n>B1</span> <span class=n>init</span> <span class=o>&lt;</span><span class=nb>super</span><span class=p>:</span> <span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>B1</span><span class=s1>&#39;&gt;, &lt;C object&gt;&gt;</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=n>init</span> <span class=o>&lt;</span><span class=nb>super</span><span class=p>:</span> <span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>C</span><span class=s1>&#39;&gt;, &lt;C object&gt;&gt;</span>
</span></span><span class=line><span class=cl><span class=n>在多层继承中</span><span class=err>，</span><span class=n>父类的self实例也是子类的对象</span>
</span></span></code></pre></div><h3 id=多态>多态<a hidden class=anchor aria-hidden=true href=#多态>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Shape</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Square</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>l</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=s2>&#34;正方形&#34;</span><span class=p>)</span>  <span class=c1>#父类的属性也会存储在当前对象中</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>length</span> <span class=o>=</span> <span class=n>l</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> 的面积是 </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>length</span> <span class=o>**</span> <span class=mi>2</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Circle</span><span class=p>(</span><span class=n>Shape</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>r</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=s2>&#34;圆形&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>area</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=si>}</span><span class=s2> 的面积是 </span><span class=si>{</span><span class=mf>3.14</span> <span class=o>*</span> <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>**</span> <span class=mi>2</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>s1</span> <span class=o>=</span> <span class=n>Square</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>s1</span><span class=o>.</span><span class=n>area</span><span class=p>()</span>   <span class=c1>#正方形 的面积是 4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=o>.</span><span class=n>area</span><span class=p>()</span>   <span class=c1>#圆形 的面积是 3.14</span>
</span></span></code></pre></div><h3 id=私有变量>&ldquo;私有变量&rdquo;<a hidden class=anchor aria-hidden=true href=#私有变量>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>__x</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_y</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>___z</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>a_</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>b__</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>c___</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_x</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>__x</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_x</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>get_x</span><span class=p>()</span>  <span class=c1>#2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#在类中定义的以 __ 开头的变量会被进行名称改写,但是以 _ 结尾的变量不会被改写</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#{&#39;_A__x&#39;: 2, &#39;_y&#39;: 2, &#39;_A___z&#39;: 2, &#39;a_&#39;: 2, &#39;b__&#39;: 2, &#39;c___&#39;: 2}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>__abc</span> <span class=o>=</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl><span class=c1>#通过类实例添加的属性并不会进行名称重新</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#{&#39;_A__x&#39;: 2, &#39;_y&#39;: 2, &#39;_A___z&#39;: 2, &#39;a_&#39;: 2, &#39;b__&#39;: 2, &#39;c___&#39;: 2, &#39;__abc&#39;: &#39;abc&#39;}</span>
</span></span></code></pre></div><h3 id=动态添加属性>动态添加属性<a hidden class=anchor aria-hidden=true href=#动态添加属性>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=s2>&#34;z&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#{&#39;x&#39;: 1, &#39;y&#39;: 2, &#39;z&#39;: &#39;abc&#39;}</span>
</span></span></code></pre></div><h3 id=限制添加属性>限制添加属性<a hidden class=anchor aria-hidden=true href=#限制添加属性>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=vm>__slots__</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;x&#34;</span><span class=p>,</span> <span class=s2>&#34;y&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>x</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=n>x</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_z</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>z</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>z</span> <span class=o>=</span> <span class=n>z</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#当类定义类 slots 之后，类对象便不会再有 __dict__ 属性</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;A&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;__dict__&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>z</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;A&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;z&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>set_z</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=c1>#在类中的方法设置不在 __slots__ 中的属性也是不被允许的</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>6</span><span class=p>,</span> <span class=ow>in</span> <span class=n>set_z</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;A&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;z&#39;</span>
</span></span></code></pre></div><h3 id=类的魔法方法>类的魔法方法<a hidden class=anchor aria-hidden=true href=#类的魔法方法>#</a></h3><h4 id=实例化生命函数>实例化生命函数<a hidden class=anchor aria-hidden=true href=#实例化生命函数>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>CapStr</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>string</span><span class=p>):</span>   <span class=c1>#实例化时调用的第一个方法</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__new__ exec&#34;</span><span class=p>,</span> <span class=n>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=o>=</span> <span class=n>string</span><span class=o>.</span><span class=n>upper</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>string</span><span class=p>):</span> <span class=c1>#__new__ 之后调用，用来做对象的定制化</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__init__ exec&#34;</span><span class=p>,</span> <span class=n>string</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__del__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>  <span class=c1>#对象销毁时调用</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__del__ exec&#34;</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cs</span> <span class=o>=</span> <span class=n>CapStr</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__new__</span> <span class=n>exec</span> <span class=n>python</span>
</span></span><span class=line><span class=cl><span class=fm>__init__</span> <span class=n>exec</span> <span class=n>python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cs</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;PYTHON&#39;</span>
</span></span></code></pre></div><h4 id=运算符魔法方法>运算符魔法方法<a hidden class=anchor aria-hidden=true href=#运算符魔法方法>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>   <span class=c1># + 号对应的魔法方法</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__add__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a2</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ret</span> <span class=o>=</span> <span class=n>a1</span> <span class=o>+</span> <span class=n>a2</span>   <span class=c1>#调用的是a1的 __add__ 方法</span>
</span></span><span class=line><span class=cl><span class=fm>__add__</span> <span class=n>exec</span> <span class=n>hello</span> <span class=n>python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>11</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;B __add__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>NotImplemented</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__radd__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>  <span class=c1>#如果在进行加法运算时，左侧对象的__add__方法未定义或者返回NotImplemented那么会调用右侧对象的__radd__方法代偿</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;C __radd__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b1</span> <span class=o>=</span> <span class=n>B</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>C</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ret</span> <span class=o>=</span> <span class=n>b1</span> <span class=o>+</span> <span class=n>c1</span>
</span></span><span class=line><span class=cl><span class=n>B</span> <span class=fm>__add__</span> <span class=n>exec</span> <span class=n>hello</span> <span class=n>python</span>
</span></span><span class=line><span class=cl><span class=n>C</span> <span class=fm>__radd__</span> <span class=n>exec</span> <span class=n>python</span> <span class=n>hello</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>11</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>D</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__iadd__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span> <span class=c1>#对应 += 算数运算符，会使用返回值对运算符左侧对象进行重新赋值</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__iadd__ exec&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>+</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>d1</span> <span class=o>=</span> <span class=n>D</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>d2</span> <span class=o>=</span> <span class=n>D</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>d1</span> <span class=o>+=</span> <span class=n>d2</span>
</span></span><span class=line><span class=cl><span class=fm>__iadd__</span> <span class=n>exec</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>11</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>type</span><span class=p>(</span><span class=n>d1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>int</span><span class=s1>&#39;&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyStr</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__lt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__lt__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__le__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__le__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>  
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__gt__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__gt__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__ge__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__ge__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__eq__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>other</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=fm>__ne__</span> <span class=o>=</span> <span class=kc>None</span>   <span class=c1>#禁用 != 比较运算符，赋值为None避免调用父类的方法</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>=</span> <span class=n>MyStr</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>=</span> <span class=n>MyStr</span><span class=p>(</span><span class=s2>&#34;bc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>&lt;</span> <span class=n>str2</span>
</span></span><span class=line><span class=cl><span class=fm>__lt__</span> <span class=n>exec</span> <span class=n>abc</span> <span class=n>bc</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>&lt;=</span> <span class=n>str2</span>
</span></span><span class=line><span class=cl><span class=fm>__le__</span> <span class=n>exec</span> <span class=n>abc</span> <span class=n>bc</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>&gt;</span> <span class=n>str2</span>
</span></span><span class=line><span class=cl><span class=fm>__gt__</span> <span class=n>exec</span> <span class=n>abc</span> <span class=n>bc</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str1</span> <span class=o>&gt;=</span> <span class=n>str2</span>
</span></span><span class=line><span class=cl><span class=fm>__ge__</span> <span class=n>exec</span> <span class=n>abc</span> <span class=n>bc</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str3</span> <span class=o>=</span> <span class=n>MyStr</span><span class=p>(</span><span class=s2>&#34;de&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>==</span> <span class=n>str3</span>
</span></span><span class=line><span class=cl><span class=fm>__eq__</span> <span class=n>exec</span> <span class=n>bc</span> <span class=n>de</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>str2</span> <span class=o>!=</span> <span class=n>str3</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>TypeError</span><span class=p>:</span> <span class=s1>&#39;NoneType&#39;</span> <span class=nb>object</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>callable</span>
</span></span></code></pre></div><h4 id=类型转换魔法方法>类型转换魔法方法<a hidden class=anchor aria-hidden=true href=#类型转换魔法方法>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>(</span><span class=nb>str</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__int__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>  <span class=c1>#对应 int() 函数</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__int__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ret</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>a1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__int__</span> <span class=n>exec</span> <span class=n>python</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>6</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Circle</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>PI</span> <span class=o>=</span> <span class=mf>3.14</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>r</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>radius</span> <span class=o>=</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>  <span class=c1>#对应 str() 函数</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;Circle[radius=</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>radius</span><span class=si>}</span><span class=s2>]&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>Circle</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>ret</span> <span class=o>=</span> <span class=nb>str</span><span class=p>(</span><span class=n>c1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;Circle[radius=2]&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__bool__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__bool__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>bool</span><span class=p>(</span><span class=n>a1</span><span class=p>)</span>    <span class=c1>#使用bool()函数进行类型转换会调用对象的 __bool__ 方法</span>
</span></span><span class=line><span class=cl><span class=fm>__bool__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc89fac0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__len__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=nb>bool</span><span class=p>(</span><span class=n>a1</span><span class=p>)</span>    <span class=c1>#如果对象不存在 __bool__ 方法会调用 __len__ 方法判断返回值是否不等于0进行代偿</span>
</span></span><span class=line><span class=cl><span class=fm>__len__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e250</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span></code></pre></div><h4 id=属性访问魔法方法>属性访问魔法方法<a hidden class=anchor aria-hidden=true href=#属性访问魔法方法>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>hasattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>)</span> <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>getattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>)</span> <span class=c1>#&#39;tom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>setattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span><span class=p>,</span> <span class=mi>18</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>age</span>  <span class=c1>#18</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>delattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;age&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=vm>__dict__</span> <span class=c1>#{&#39;name&#39;: &#39;tom&#39;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getattribute__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>):</span>  <span class=c1>#对应 getattr() 函数</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__getattribute__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>super</span><span class=p>()</span><span class=o>.</span><span class=fm>__getattribute__</span><span class=p>(</span><span class=n>attr_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getattr__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>):</span>   <span class=c1>#对于不存在的属性名，使用getattr()访问，会先调用到__getattribute__函数再调用__getattr__</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__getattr__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>raise</span> <span class=ne>AttributeError</span><span class=p>(</span><span class=n>attr_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__setattr__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>,</span> <span class=n>attr_value</span><span class=p>):</span>   <span class=c1>#对应 setattr() 函数</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__setattr__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>,</span> <span class=n>attr_value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>attr_name</span><span class=p>]</span> <span class=o>=</span> <span class=n>attr_value</span>   <span class=c1>#不能使用self.attr_name = attr_value进行赋值，不然又会调用带该函数进入死循环</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__delattr__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>):</span>   <span class=c1>#对应 delattr() 函数</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;__delattr__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>attr_name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>attr_name</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=n>attr_name</span><span class=p>]</span>    <span class=c1>#不能使用 del self.attr_name 删除不然又会调用该函数进入死循环</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>getattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;name&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__getattribute__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8e7ee0</span><span class=o>&gt;</span> <span class=n>name</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;tom&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>getattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;gender&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__getattribute__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f50bb0</span><span class=o>&gt;</span> <span class=n>gender</span>
</span></span><span class=line><span class=cl><span class=fm>__getattr__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f50bb0</span><span class=o>&gt;</span> <span class=n>gender</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>10</span><span class=p>,</span> <span class=ow>in</span> <span class=fm>__getattr__</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=n>gender</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>setattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;gender&#34;</span><span class=p>,</span> <span class=s2>&#34;M&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__setattr__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f67fa0</span><span class=o>&gt;</span> <span class=n>gender</span> <span class=n>M</span>
</span></span><span class=line><span class=cl><span class=fm>__getattribute__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f67fa0</span><span class=o>&gt;</span> <span class=vm>__dict__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>addr</span> <span class=o>=</span> <span class=s2>&#34;sc chengdu&#34;</span>  <span class=c1>#直接使用 对象.属性 赋值也会调用 __setattr__</span>
</span></span><span class=line><span class=cl><span class=fm>__setattr__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8e3fd0</span><span class=o>&gt;</span> <span class=n>addr</span> <span class=n>sc</span> <span class=n>chengdu</span>
</span></span><span class=line><span class=cl><span class=fm>__getattribute__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8e3fd0</span><span class=o>&gt;</span> <span class=vm>__dict__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>delattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;gender&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__delattr__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f67fa0</span><span class=o>&gt;</span> <span class=n>gender</span>
</span></span><span class=line><span class=cl><span class=fm>__getattribute__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f67fa0</span><span class=o>&gt;</span> <span class=vm>__dict__</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>delattr</span><span class=p>(</span><span class=n>a1</span><span class=p>,</span> <span class=s2>&#34;addr&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__delattr__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8e3fd0</span><span class=o>&gt;</span> <span class=n>addr</span>
</span></span><span class=line><span class=cl><span class=fm>__getattribute__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8e3fd0</span><span class=o>&gt;</span> <span class=vm>__dict__</span>
</span></span></code></pre></div><h4 id=对象索引魔法方法>对象索引魔法方法<a hidden class=anchor aria-hidden=true href=#对象索引魔法方法>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__index__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__index__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>l1</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>l1</span><span class=p>[</span><span class=n>a1</span><span class=p>]</span>  <span class=c1>#把对象作为索引值从列表中取值会调用对象的 __index__ 方法</span>
</span></span><span class=line><span class=cl><span class=fm>__index__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8e3e80</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__getitem__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__setitem__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span> <span class=o>=</span> <span class=n>val</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>   <span class=c1>#把对象当做一个列表访问</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8aa8b0</span><span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=p>[:</span><span class=mi>2</span><span class=p>]</span>  <span class=c1>#如果是范围的话传入__getitem__的idx是slice(None, 2, None)</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8aa8b0</span><span class=o>&gt;</span> <span class=nb>slice</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl><span class=fm>__setitem__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8aa8b0</span><span class=o>&gt;</span> <span class=mi>0</span> <span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc8aa8b0</span><span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=mi>10</span>
</span></span></code></pre></div><h4 id=对象执行魔法方法>对象执行魔法方法<a hidden class=anchor aria-hidden=true href=#对象执行魔法方法>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;name =&gt; </span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=se>\n</span><span class=s2>*args =&gt; </span><span class=si>{</span><span class=n>args</span><span class=si>}</span><span class=se>\n</span><span class=s2>**kwargs =&gt; </span><span class=si>{</span><span class=n>kwargs</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=p>(</span><span class=s2>&#34;tom&#34;</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=s2>&#34;M&#34;</span><span class=p>,</span> <span class=n>privince</span><span class=o>=</span><span class=s2>&#34;sc&#34;</span><span class=p>,</span> <span class=n>city</span><span class=o>=</span><span class=s2>&#34;cd&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>name</span> <span class=o>=&gt;</span> <span class=n>tom</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=n>args</span> <span class=o>=&gt;</span> <span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=s1>&#39;M&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>**</span><span class=n>kwargs</span> <span class=o>=&gt;</span> <span class=p>{</span><span class=s1>&#39;privince&#39;</span><span class=p>:</span> <span class=s1>&#39;sc&#39;</span><span class=p>,</span> <span class=s1>&#39;city&#39;</span><span class=p>:</span> <span class=s1>&#39;cd&#39;</span><span class=p>}</span>
</span></span></code></pre></div><h4 id=对象字符串魔法方法>对象字符串魔法方法<a hidden class=anchor aria-hidden=true href=#对象字符串魔法方法>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>str</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;abc&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>repr</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;&#39;abc&#39;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#eval()把参数去引号执行</span>
</span></span><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;string&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>NameError</span><span class=p>:</span> <span class=n>name</span> <span class=s1>&#39;abc&#39;</span> <span class=ow>is</span> <span class=ow>not</span> <span class=n>defined</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=s2>&#34;abc&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;abc&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>eval</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=mi>123</span><span class=p>))</span> <span class=c1>#eval 和 repr 互为反函数</span>
</span></span><span class=line><span class=cl><span class=mi>123</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__str__ exec&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;data = </span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__repr__ exec&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;A(data:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=si>}</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>str</span><span class=p>(</span><span class=n>a1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__str__</span> <span class=n>exec</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;data = 1&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>repr</span><span class=p>(</span><span class=n>a1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=fm>__repr__</span> <span class=n>exec</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;A(data:1)&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__repr__ exec&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=sa>f</span><span class=s2>&#34;B(data:</span><span class=si>{</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=si>}</span><span class=s2>)&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b1</span> <span class=o>=</span> <span class=n>B</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>str</span><span class=p>(</span><span class=n>b1</span><span class=p>)</span> <span class=c1>#如果对象 __str__ 方法未定义会调用 __repr__ 代偿</span>
</span></span><span class=line><span class=cl><span class=fm>__repr__</span> <span class=n>exec</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;B(data:1)&#39;</span>
</span></span></code></pre></div><h4 id=对象代偿>对象代偿<a hidden class=anchor aria-hidden=true href=#对象代偿>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__contains__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__contains__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>val</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__getitem__&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__iter__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__next__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>StopIteration</span>
</span></span><span class=line><span class=cl>        <span class=n>item</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>idx</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>item</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=mi>2</span> <span class=ow>in</span> <span class=n>a1</span> <span class=c1>#如果对象有 __contains__ 方法直接调用判断</span>
</span></span><span class=line><span class=cl><span class=fm>__contains__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f67b50</span><span class=o>&gt;</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__getitem__&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__iter__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__iter__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__next__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__next__ exec&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>StopIteration</span>
</span></span><span class=line><span class=cl>        <span class=n>item</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>idx</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>idx</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>item</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b1</span> <span class=o>=</span> <span class=n>B</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=mi>2</span> <span class=ow>in</span> <span class=n>b1</span> <span class=c1>#如果没有 __contains__ 方法会调用 __iter__ 方法生成迭代器，然后执行 __next__ 遍历进行对比</span>
</span></span><span class=line><span class=cl><span class=fm>__iter__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>B</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc910400</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=fm>__next__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>B</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc910400</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=fm>__next__</span> <span class=n>exec</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>B</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22dc910400</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>data</span> <span class=o>=</span> <span class=n>data</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;__getitem__&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>,</span> <span class=n>idx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>data</span><span class=p>[</span><span class=n>idx</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span> <span class=o>=</span> <span class=n>C</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=mi>2</span> <span class=ow>in</span> <span class=n>c1</span> <span class=c1>#如果 __contains__ 方法和 __iter__ __next__ 方法都不存在，那么会调用 __getitem__ 代偿</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>C</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e310</span><span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>C</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e310</span><span class=o>&gt;</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=mi>5</span> <span class=ow>in</span> <span class=n>c1</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>C</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e310</span><span class=o>&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>C</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e310</span><span class=o>&gt;</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>C</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e310</span><span class=o>&gt;</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=fm>__getitem__</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>C</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f22d4f6e310</span><span class=o>&gt;</span> <span class=mi>3</span> <span class=c1>#这里 __getitem__会抛出IndexError 被上层捕获，idx不再递增</span>
</span></span><span class=line><span class=cl><span class=kc>False</span>
</span></span></code></pre></div><h4 id=property函数代理>property函数代理<a hidden class=anchor aria-hidden=true href=#property函数代理>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_x</span> <span class=o>=</span> <span class=mi>250</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_getx</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_x</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_setx</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_x</span> <span class=o>=</span> <span class=n>val</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>_delx</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>_x</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=nb>property</span><span class=p>(</span><span class=n>_getx</span><span class=p>,</span> <span class=n>_setx</span><span class=p>,</span> <span class=n>_delx</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span>    <span class=c1>#250</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>520</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span>    <span class=c1>#520</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>a1</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>5</span><span class=p>,</span> <span class=ow>in</span> <span class=n>_getx</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;A&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;_x&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_x</span> <span class=o>=</span> <span class=mi>250</span>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>x</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_x</span>
</span></span><span class=line><span class=cl>    <span class=nd>@x.setter</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>x</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>val</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_x</span> <span class=o>=</span> <span class=n>val</span>
</span></span><span class=line><span class=cl>    <span class=nd>@x.deleter</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>x</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>del</span> <span class=bp>self</span><span class=o>.</span><span class=n>_x</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span>    <span class=c1>#250</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span> <span class=o>=</span> <span class=mi>520</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span>    <span class=c1>#520</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>a1</span><span class=o>.</span><span class=n>x</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>x</span>   
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>6</span><span class=p>,</span> <span class=ow>in</span> <span class=n>x</span>
</span></span><span class=line><span class=cl><span class=ne>AttributeError</span><span class=p>:</span> <span class=s1>&#39;A&#39;</span> <span class=nb>object</span> <span class=n>has</span> <span class=n>no</span> <span class=n>attribute</span> <span class=s1>&#39;_x&#39;</span>   
</span></span></code></pre></div><h3 id=类方法>类方法<a hidden class=anchor aria-hidden=true href=#类方法>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>类方法</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>func1</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func1&#34;</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>func2</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func2&#34;</span><span class=p>,</span> <span class=bp>cls</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>func1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>func1</span> <span class=o>&lt;</span><span class=n>__main__</span><span class=o>.</span><span class=n>A</span> <span class=nb>object</span> <span class=n>at</span> <span class=mh>0x7f6e45d8f7f0</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>func2</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>func2</span> <span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=n>A</span><span class=s1>&#39;&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>统计创建类实例个数</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>A</span><span class=o>.</span><span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_count</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;A create </span><span class=si>{</span><span class=n>A</span><span class=o>.</span><span class=n>count</span><span class=si>}</span><span class=s2> instance&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a2</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>a3</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=c1>#通过类名访问</span>
</span></span><span class=line><span class=cl><span class=n>A</span><span class=o>.</span><span class=n>get_count</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>create</span> <span class=mi>3</span> <span class=n>instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#通过实例访问</span>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>get_count</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span> <span class=n>create</span> <span class=mi>3</span> <span class=n>instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>add</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>cls</span><span class=o>.</span><span class=n>count</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>add</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=nd>@classmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>print</span><span class=p>(</span><span class=bp>cls</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=bp>cls</span><span class=si>}</span><span class=s2> create </span><span class=si>{</span><span class=bp>cls</span><span class=o>.</span><span class=n>count</span><span class=si>}</span><span class=s2> instance&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>C</span><span class=p>(</span><span class=n>A</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=n>A</span><span class=s1>&#39;&gt; create 1 instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>b1</span><span class=p>,</span> <span class=n>b2</span> <span class=o>=</span> <span class=n>B</span><span class=p>(),</span> <span class=n>B</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>B</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=sa>B</span><span class=s1>&#39;&gt; create 2 instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>,</span> <span class=n>c3</span> <span class=o>=</span> <span class=n>C</span><span class=p>(),</span> <span class=n>C</span><span class=p>(),</span> <span class=n>C</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>C</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>__main__</span><span class=o>.</span><span class=n>C</span><span class=s1>&#39;&gt; create 3 instance</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>静态方法</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nd>@staticmethod</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>func1</span><span class=p>():</span>    <span class=c1>#静态方法不接收参数 </span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;static method func1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span> <span class=o>=</span> <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>A</span><span class=o>.</span><span class=n>func1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>static</span> <span class=n>method</span> <span class=n>func1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>a1</span><span class=o>.</span><span class=n>func1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>static</span> <span class=n>method</span> <span class=n>func1</span>
</span></span></code></pre></div><h2 id=文件>文件<a hidden class=anchor aria-hidden=true href=#文件>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#open(file, mode=&#39;r&#39;, buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)打开文件返回文件对象</span>
</span></span><span class=line><span class=cl><span class=n>mode</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;r&#39;</span>       <span class=n>打开已有文件供读取</span> <span class=p>(</span><span class=n>默认</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;w&#39;</span>       <span class=n>打开已有文件供写入</span><span class=err>，</span><span class=n>会覆盖之前的内容</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;x&#39;</span>       <span class=n>创建一个新文件并进行写入</span><span class=p>,</span><span class=n>文件存在报错</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;a&#39;</span>       <span class=n>打开一个已有文件并进行追加写入</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;b&#39;</span>       <span class=n>二进制模式</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;t&#39;</span>       <span class=n>文本模式</span> <span class=p>(</span><span class=n>默认</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;+&#39;</span>       <span class=n>打开一个已有文件进行读取写入</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>echo</span> <span class=s2>&#34;test file&#34;</span> <span class=o>&gt;</span> <span class=n>test</span><span class=o>.</span><span class=n>txt</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>readable</span><span class=p>()</span><span class=n>函数返回文件是否可读</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>writable</span><span class=p>()</span><span class=n>函数返回文件是否可写</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>size</span><span class=o>=-</span><span class=mi>1</span><span class=p>)</span><span class=n>读取文件的指定个字符个数</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>readlines</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span><span class=n>读取文件指定行</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>seel</span><span class=p>(</span><span class=n>offset</span><span class=p>,</span><span class=n>whence</span><span class=o>=</span><span class=mi>0</span><span class=p>)</span><span class=n>修改文件指针到指定位置</span><span class=err>，</span><span class=n>whence</span><span class=o>=</span><span class=mi>0</span><span class=n>表示从文件起始位置</span> <span class=n>whence</span><span class=o>=</span><span class=mi>1</span><span class=n>代表当前位置</span> <span class=n>whence</span><span class=o>=</span><span class=mi>2</span><span class=n>代表文件末尾</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>tell</span><span class=p>()</span><span class=n>返回文件指针所在位置</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>text</span><span class=p>)</span><span class=n>写文件并返回写入的字符数</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>writelines</span><span class=p>(</span><span class=n>lines</span><span class=p>)</span><span class=n>将一系列字符串写入到文件对象中</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>truncate</span><span class=p>(</span><span class=n>pos</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span><span class=n>截取指定位置之前的内容保存</span><span class=err>，</span><span class=n>pos为None时默认为文件当前的指针位置</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>flush</span><span class=p>()</span><span class=n>将文件对象中的缓存数据写入磁盘</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>close</span><span class=p>()</span><span class=n>关闭文件</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>python3</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;test.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;r&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>readable</span><span class=p>())</span> <span class=c1>#True</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>writable</span><span class=p>())</span> <span class=c1>#False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>rd</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>rd</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;===========&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>rd2</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>rd2</span><span class=p>)</span>  <span class=c1>#&#39;&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ret</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>seek</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>ret</span><span class=p>)</span>  <span class=c1>#0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>rd3</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>rd3</span><span class=p>)</span>  <span class=c1>#te</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>tell</span><span class=p>()</span>    <span class=c1>#2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;write&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>io</span><span class=o>.</span><span class=n>UnsupportedOperation</span><span class=p>:</span> <span class=ow>not</span> <span class=n>writable</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;test.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;w&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>readable</span><span class=p>()</span>    <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>writable</span><span class=p>()</span>    <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=n>io</span><span class=o>.</span><span class=n>UnsupportedOperation</span><span class=p>:</span> <span class=ow>not</span> <span class=n>readable</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;write&#34;</span><span class=p>)</span>    <span class=c1>#5</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;test.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;x&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>Traceback</span> <span class=p>(</span><span class=n>most</span> <span class=n>recent</span> <span class=n>call</span> <span class=n>last</span><span class=p>):</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span><span class=p>,</span> <span class=ow>in</span> <span class=o>&lt;</span><span class=n>module</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=ne>FileExistsError</span><span class=p>:</span> <span class=p>[</span><span class=n>Errno</span> <span class=mi>17</span><span class=p>]</span> <span class=n>File</span> <span class=n>exists</span><span class=p>:</span> <span class=s1>&#39;test.txt&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;test.txt&#34;</span><span class=p>,</span> <span class=s2>&#34;a&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>readable</span><span class=p>()</span>    <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>writable</span><span class=p>()</span>    <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;append&#34;</span><span class=p>)</span>   <span class=c1>#6</span>
</span></span></code></pre></div><p>文件路径</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pathlib</span> <span class=kn>import</span> <span class=n>Path</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=n>Path</span><span class=p>(</span><span class=s2>&#34;.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>q</span> <span class=o>=</span> <span class=n>p</span> <span class=o>/</span> <span class=s2>&#34;test.txt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>.</span><span class=n>is_dir</span><span class=p>()</span>  <span class=c1>#True</span>
</span></span><span class=line><span class=cl><span class=n>q</span><span class=o>.</span><span class=n>is_dir</span><span class=p>()</span>  <span class=c1>#False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span> <span class=c1>#False</span>
</span></span><span class=line><span class=cl><span class=n>q</span><span class=o>.</span><span class=n>is_file</span><span class=p>()</span> <span class=c1>#True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>p</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>q</span><span class=o>.</span><span class=n>parent</span><span class=p>()</span>
</span></span></code></pre></div><p>with open</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;test.txt&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>等效于</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>f</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;test.txt&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=n>f</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>   <span class=c1>#这种方式如果中间pass的语句出错那么不会执行close那么文件写入的内容会丢失</span>
</span></span></code></pre></div><p>pickle</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pickle</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=s2>&#34;abc&#34;</span>
</span></span><span class=line><span class=cl><span class=n>z</span> <span class=o>=</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=s2>&#34;ABC&#34;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;data.pkl&#34;</span><span class=p>,</span> <span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>pickle</span><span class=o>.</span><span class=n>dump</span><span class=p>(</span><span class=n>z</span><span class=p>,</span> <span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pickle</span>
</span></span><span class=line><span class=cl><span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;data.pkl&#34;</span><span class=p>,</span> <span class=s2>&#34;rb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>=</span> <span class=n>pickle</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>y</span> <span class=o>=</span> <span class=n>pickle</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>z</span> <span class=o>=</span> <span class=n>pickle</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>,</span> <span class=n>sep</span><span class=o>=</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>abc</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=s1>&#39;ABC&#39;</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]]</span>
</span></span></code></pre></div><h2 id=模块>模块<a hidden class=anchor aria-hidden=true href=#模块>#</a></h2><p>python的一个模块是一个python文件，<strong>模块能定义函数，类和变量，模块里也能包含可执行的代码</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>mkdir</span> <span class=n>m1</span> <span class=n>m2</span>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>m1</span><span class=o>/</span><span class=n>a</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m1.a start&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>var1</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>func1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m1.a end&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>m1</span><span class=o>/</span><span class=n>b</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m1.b start&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>var2</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>func2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m1.b end&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>m2</span><span class=o>/</span><span class=n>c</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m2.c start&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>var3</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>var4</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>func3</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func3&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m2.c end&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tree</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>m1</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>├──</span> <span class=n>a</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>└──</span> <span class=n>b</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=err>└──</span> <span class=n>m2</span>
</span></span><span class=line><span class=cl>    <span class=err>└──</span> <span class=n>c</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>m1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>m1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>m1</span><span class=o>.</span><span class=n>a</span><span class=o>.</span><span class=n>func1</span><span class=p>()</span>    <span class=c1>#_NamespacePath([&#39;/home/aiiqh/python_proj/test/m1&#39;])</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m1</span> <span class=kn>import</span> <span class=n>a</span>    <span class=c1>#导入一个模块会执行该模块的代码，并在import语句出执行</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=o>.</span><span class=n>func1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#m1.a start</span>
</span></span><span class=line><span class=cl><span class=c1>#m1.a end</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl><span class=c1>#func1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m1.a</span> <span class=kn>import</span> <span class=n>func1</span>  <span class=c1>#直接导入函数也会执行模块中的代码</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>func1</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#m1.a start</span>
</span></span><span class=line><span class=cl><span class=c1>#m1.a end</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl><span class=c1>#func1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m1.a</span> <span class=kn>import</span> <span class=n>var1</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#m1.a start</span>
</span></span><span class=line><span class=cl><span class=c1>#m1.a end</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl><span class=c1>#1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#导入全部变量</span>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m2.c</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#m2.c start</span>
</span></span><span class=line><span class=cl><span class=c1>#m2.c end</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl><span class=c1>#3</span>
</span></span><span class=line><span class=cl><span class=c1>#4</span>
</span></span></code></pre></div><ol><li>import xxx as xxx</li><li>from xxx import xxx as xxx</li><li>from xxx import *</li></ol><h3 id=控制函数变量类导出>控制函数/变量/类导出<a hidden class=anchor aria-hidden=true href=#控制函数变量类导出>#</a></h3><p>在python模块中以<code>_</code>开头的变量、方法、类模块外不可见,但是仅针对<code>import *</code>的情况，直接引入模块的情况仍然能导入</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>mkdir</span> <span class=n>m0</span>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>m0</span><span class=o>/</span><span class=n>a</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=n>var1</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>_var2</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=n>__var3</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>___var4</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>func1</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>_func2</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;_func2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>cls1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>_clas2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>pass</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m0</span> <span class=kn>import</span> <span class=n>a</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>var1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>_var2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>__var3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=o>.</span><span class=n>___var4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=c1>#2</span>
</span></span><span class=line><span class=cl><span class=c1>#3</span>
</span></span><span class=line><span class=cl><span class=c1>#4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m0.a</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>_var2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>__var3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>___var4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#1</span>
</span></span><span class=line><span class=cl><span class=c1>#NameError: name &#39;_var2&#39; is not defined. Did you mean: &#39;var1&#39;</span>
</span></span></code></pre></div><p>使用<code>__all__</code>控制模块导出</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>m2</span><span class=o>/</span><span class=n>c</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m2.c start&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>__all__</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;var3&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>var3</span> <span class=o>=</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>var4</span> <span class=o>=</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>func3</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;func3&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;m2.c end&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m2.c</span> <span class=kn>import</span> <span class=o>*</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var3</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#m2.c start</span>
</span></span><span class=line><span class=cl><span class=c1>#m2.c end</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl><span class=c1>#3</span>
</span></span><span class=line><span class=cl><span class=c1>#NameError: name &#39;var4&#39; is not defined. Did you mean: &#39;var3&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#尽管m2.c模块中设置了 __all__ 参数指定 import * 不导入 var4 但是还是可以直接import</span>
</span></span><span class=line><span class=cl><span class=n>cat</span> <span class=o>&lt;&lt;</span><span class=n>EOF</span> <span class=o>&gt;</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>m2.c</span> <span class=kn>import</span> <span class=n>var4</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s2>&#34;ok&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>var4</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>EOF</span>
</span></span><span class=line><span class=cl><span class=n>python3</span> <span class=n>module</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=cl><span class=c1>#m2.c start</span>
</span></span><span class=line><span class=cl><span class=c1>#m2.c end</span>
</span></span><span class=line><span class=cl><span class=c1>#ok</span>
</span></span><span class=line><span class=cl><span class=c1>#4</span>
</span></span></code></pre></div><h2 id=命令行参数>命令行参数<a hidden class=anchor aria-hidden=true href=#命令行参数>#</a></h2><p>sys.args</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>cat <span class=s>&lt;&lt;EOF &gt; test.py
</span></span></span><span class=line><span class=cl><span class=s>import sys
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>print(sys.argv)
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>python3 test.py <span class=nv>a</span><span class=o>=</span><span class=m>1</span> <span class=nv>b</span><span class=o>=</span><span class=m>2</span>
</span></span><span class=line><span class=cl><span class=o>[</span><span class=s1>&#39;test.py&#39;</span>, <span class=s1>&#39;a=1&#39;</span>, <span class=s1>&#39;b=2&#39;</span><span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#getopt.getopt(args, options[, long_options])</span>
</span></span><span class=line><span class=cl><span class=c1>#args是命令行参数列表</span>
</span></span><span class=line><span class=cl><span class=c1>#options是参数名称，如果带:号，那么:号前的参数一定要指定</span>
</span></span><span class=line><span class=cl><span class=c1>#long_options是完整参数，带=号的前面参数必须指定</span>
</span></span><span class=line><span class=cl>cat <span class=s>&lt;&lt;EOF &gt; test.py
</span></span></span><span class=line><span class=cl><span class=s>import sys
</span></span></span><span class=line><span class=cl><span class=s>import getopt
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>opts, args = getopt.getopt(sys.argv[1:], &#34;a:b:c&#34;, [&#34;argA=&#34;, &#34;argB=&#34;, &#34;--argC&#34;])
</span></span></span><span class=line><span class=cl><span class=s>print(opts, args)
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>python3 test.py -a <span class=m>1</span> -b <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=o>[(</span><span class=s1>&#39;-a&#39;</span>, <span class=s1>&#39;1&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;-b&#39;</span>, <span class=s1>&#39;2&#39;</span><span class=o>)]</span> <span class=o>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>python3 test.py --argA <span class=m>1</span> --argB <span class=m>2</span>
</span></span><span class=line><span class=cl><span class=o>[(</span><span class=s1>&#39;--argA&#39;</span>, <span class=s1>&#39;1&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;--argB&#39;</span>, <span class=s1>&#39;2&#39;</span><span class=o>)]</span> <span class=o>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>python3 test.py --argA<span class=o>=</span><span class=m>1</span> --argB<span class=o>=</span><span class=m>2</span>
</span></span><span class=line><span class=cl><span class=o>[(</span><span class=s1>&#39;--argA&#39;</span>, <span class=s1>&#39;1&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;--argB&#39;</span>, <span class=s1>&#39;2&#39;</span><span class=o>)]</span> <span class=o>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>python3 test.py -a <span class=m>0</span> --argA<span class=o>=</span><span class=m>1</span> --argB<span class=o>=</span><span class=m>2</span>
</span></span><span class=line><span class=cl><span class=o>[(</span><span class=s1>&#39;-a&#39;</span>, <span class=s1>&#39;0&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;--argA&#39;</span>, <span class=s1>&#39;1&#39;</span><span class=o>)</span>, <span class=o>(</span><span class=s1>&#39;--argB&#39;</span>, <span class=s1>&#39;2&#39;</span><span class=o>)]</span> <span class=o>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>cat <span class=s>&lt;&lt;EOF &gt; test.py
</span></span></span><span class=line><span class=cl><span class=s>import argparse
</span></span></span><span class=line><span class=cl><span class=s>
</span></span></span><span class=line><span class=cl><span class=s>parser = argparse.ArgumentParser(description=&#34;test parse&#34;)
</span></span></span><span class=line><span class=cl><span class=s>parser.add_argument(&#34;arg1&#34;, help=&#34;arg1 parameter&#34;)
</span></span></span><span class=line><span class=cl><span class=s>parser.add_argument(&#34;-arg2&#34;, dest=&#34;abc&#34;, help=&#34;arg2 parameter&#34;)
</span></span></span><span class=line><span class=cl><span class=s>parser.add_argument(&#34;--arg3&#34;, help=&#34;arg3 parameter&#34;)
</span></span></span><span class=line><span class=cl><span class=s>parser.add_argument(&#34;arg4&#34;, help=&#34;arg4 parameter&#34;)
</span></span></span><span class=line><span class=cl><span class=s>args = parser.parse_args()
</span></span></span><span class=line><span class=cl><span class=s>print(args)
</span></span></span><span class=line><span class=cl><span class=s>print(args.arg1)
</span></span></span><span class=line><span class=cl><span class=s>print(args.abc)
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>python3 argparse_test.py <span class=m>1</span> <span class=m>4</span> -arg2<span class=o>=</span><span class=m>2</span>
</span></span></code></pre></div><h2 id=虚拟环境>虚拟环境<a hidden class=anchor aria-hidden=true href=#虚拟环境>#</a></h2><p>python的虚拟环境用于隔离各个项目，这样每个项目只需要安装锁需要使用到的库，避免打包出来的二进制程序过大</p><p>ubuntu系统需要安装</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>sudo apt install python3-venv
</span></span></code></pre></div><p>创建虚拟环境</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>python3 -m venv dirname
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>cd</span> dirname
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>ls -la
</span></span><span class=line><span class=cl>total <span class=m>24</span>
</span></span><span class=line><span class=cl>drwxrwxr-x <span class=m>5</span> aiiqh aiiqh <span class=m>4096</span> Nov  <span class=m>4</span> 08:55 .
</span></span><span class=line><span class=cl>drwxrwxr-x <span class=m>6</span> aiiqh aiiqh <span class=m>4096</span> Nov  <span class=m>4</span> 08:55 ..
</span></span><span class=line><span class=cl>drwxrwxr-x <span class=m>2</span> aiiqh aiiqh <span class=m>4096</span> Nov  <span class=m>4</span> 08:55 bin  <span class=c1>#保存二进制程序和激活、去激活的脚本</span>
</span></span><span class=line><span class=cl>drwxrwxr-x <span class=m>2</span> aiiqh aiiqh <span class=m>4096</span> Nov  <span class=m>4</span> 08:55 include
</span></span><span class=line><span class=cl>drwxrwxr-x <span class=m>3</span> aiiqh aiiqh <span class=m>4096</span> Nov  <span class=m>4</span> 08:55 lib
</span></span><span class=line><span class=cl>lrwxrwxrwx <span class=m>1</span> aiiqh aiiqh    <span class=m>3</span> Nov  <span class=m>4</span> 08:55 lib64 -&gt; lib
</span></span><span class=line><span class=cl>-rw-rw-r-- <span class=m>1</span> aiiqh aiiqh   <span class=m>70</span> Nov  <span class=m>4</span> 08:55 pyvenv.cfg
</span></span></code></pre></div><p>激活虚拟环境</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nb>source</span> bin/activate
</span></span><span class=line><span class=cl><span class=o>(</span>env2<span class=o>)</span> aiiqh@aiiqh:~/python_proj/env1/env2$
</span></span></code></pre></div><p>去激活</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>(</span>env2<span class=o>)</span> aiiqh@aiiqh:~/python_proj/env1/env2$ deactivate
</span></span></code></pre></div><p>使用pip安装的包会放在lib/pythonx.x/site-packages目录下</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://moyuduo.github.io/posts/postgresql%E7%9B%B8%E5%85%B3/><span class=title>« Prev</span><br><span>Postgresql相关</span></a>
<a class=next href=https://moyuduo.github.io/posts/rabbitmq/><span class=title>Next »</span><br><span>RabbitMQ</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share python on twitter" href="https://twitter.com/intent/tweet/?text=python&url=https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f&hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share python on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f&title=python&summary=python&source=https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share python on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f&title=python"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share python on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share python on whatsapp" href="https://api.whatsapp.com/send?text=python%20-%20https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share python on telegram" href="https://telegram.me/share/url?text=python&url=https%3a%2f%2fmoyuduo.github.io%2fposts%2fpython%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://moyuduo.github.io/>Moyuduo's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>